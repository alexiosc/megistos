<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: Outputting to the User</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>Outputting to the User</h1>This module includes functions used to send output to the user, and to control how this output is sent.  
<a href="#_details">More...</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>group &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__OFL__flags.html">Output Flags (OFL_x)</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Output flags. <br><br></td></tr>

<p>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structsubstvar.html">substvar</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Substitution variable record.  <a href="structsubstvar.html#_details">More...</a><br><br></td></tr>
<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga16">_ASCIIVARCHAR</a>&nbsp;&nbsp;&nbsp;'@'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga17">_VARCHAR</a>&nbsp;&nbsp;&nbsp;0x7f</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga18">XLATION_OFF</a>&nbsp;&nbsp;&nbsp;-1		/**&lt; Disable automatic translation */</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disable automatic translation.  <a href="#ga18"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga19">XLATION_ON</a>&nbsp;&nbsp;&nbsp;-2		/**&lt; Re-enable automatic translation */</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Re-enable automatic translation.  <a href="#ga19"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga20">out_setflags</a>(flags)&nbsp;&nbsp;&nbsp;__out_setclear(1,flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set output flags.  <a href="#ga20"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga21">out_clearflags</a>(flags)&nbsp;&nbsp;&nbsp;__out_setclear(0,flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear output flags.  <a href="#ga21"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga22">out_setansiflag</a>(f)&nbsp;&nbsp;&nbsp;__out_setclear(f,OFL_ANSIENABLE)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set or clear the <a class="el" href="group__OFL__flags.html#ga0">OFL_ANSIENABLE</a> flag.  <a href="#ga22"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga23">out_setwaittoclear</a>(f)&nbsp;&nbsp;&nbsp;__out_setclear(f,OFL_WAITTOCLEAR)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set or clear the <a class="el" href="group__OFL__flags.html#ga1">OFL_WAITTOCLEAR</a> flag.  <a href="#ga23"></a><br><br></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga2">out_init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise output subsystem.  <a href="#ga2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga3">out_done</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shut down output to the user.  <a href="#ga3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga4">out_initsubstvars</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise substitution variables.  <a href="#ga4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga5">out_addsubstvar</a> (char *name, char *(*varcalc)(void))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Install a new substitution variable.  <a href="#ga5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga6">out_setxlation</a> (int mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Control character translation.  <a href="#ga6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga7">prompt</a> (int num,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format and display a prompt.  <a href="#ga7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga8">sprompt</a> (char *buf, int num,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format a prompt and store it in a string.  <a href="#ga8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga9">sprompt_other</a> (struct <a class="el" href="structshmuserrec.html">shmuserrec</a> *ushm, char *buf, int num,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format a prompt for another user and store it in a string.  <a href="#ga9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga10">print</a> (char *buf,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format and print a string.  <a href="#ga10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga11">sprint</a> (char *stg, char *buf,...)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format and store a string.  <a href="#ga11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga12">out_printfile</a> (char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a file.  <a href="#ga12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga13">out_printlongfile</a> (char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a file.  <a href="#ga13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga14">out_catfile</a> (char *fname)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Print a file verbatim.  <a href="#ga14"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga15">__out_setclear</a> (int set, <a class="el" href="config_8h.html#a159">uint32</a> f)</td></tr>

<tr><td colspan=2><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>char&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga0">out_buffer</a> [8192]</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top><a class="el" href="config_8h.html#a159">uint32</a>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__output.html#ga1">out_flags</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Temporary output buffer.  <a href="#ga1"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This module includes functions used to send output to the user, and to control how this output is sent. 
<p>
It largely implements high-level functions, with the really low-level ones abstracted away (they're horrible, ugly and kludgy, anyway). <hr><h2>Define Documentation</h2>
<a class="anchor" name="ga16" doxytag="output.h::_ASCIIVARCHAR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define _ASCIIVARCHAR&nbsp;&nbsp;&nbsp;'@'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00103">103</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga17" doxytag="output.h::_VARCHAR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define _VARCHAR&nbsp;&nbsp;&nbsp;0x7f          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00104">104</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga21" doxytag="output.h::out_clearflags" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define out_clearflags          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">flags&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;__out_setclear(0,flags)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Clear output flags. 
<p>
This function clears the given output flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>flags</em>&nbsp;</td><td>A set of flags, ORred together.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Nothing. This is a macro and should be only be used for its side-effect.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga20">out_setflags()</a>, <a class="el" href="group__output.html#ga22">out_setansiflag()</a>, <a class="el" href="group__output.html#ga23">out_setwaittoclear()</a>. </dd></dl>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00561">561</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga22" doxytag="output.h::out_setansiflag" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define out_setansiflag          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">f&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;__out_setclear(f,OFL_ANSIENABLE)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set or clear the <a class="el" href="group__OFL__flags.html#ga0">OFL_ANSIENABLE</a> flag. 
<p>
This function is only a legacy interface to the <a class="el" href="group__output.html#ga20">out_setflags</a> and <a class="el" href="group__output.html#ga21">out_clearflags</a>} macros. It's used to control the <a class="el" href="group__OFL__flags.html#ga0">OFL_ANSIENABLE</a> flag, which in turn controls whether or not ANSI directives are stripped before output.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>f</em>&nbsp;</td><td>Causes the flag to be set if non-zero, or to be cleared if zero. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00577">577</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga20" doxytag="output.h::out_setflags" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define out_setflags          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">flags&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;__out_setclear(1,flags)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set output flags. 
<p>
This function sets the given output flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>flags</em>&nbsp;</td><td>A set of flags, ORred together.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Nothing. This is a macro and should be only be used for its side-effect.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga21">out_clearflags()</a>, <a class="el" href="group__output.html#ga22">out_setansiflag()</a>, <a class="el" href="group__output.html#ga23">out_setwaittoclear()</a>. </dd></dl>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00548">548</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga23" doxytag="output.h::out_setwaittoclear" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define out_setwaittoclear          </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">f&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap>&nbsp;&nbsp;&nbsp;__out_setclear(f,OFL_WAITTOCLEAR)</td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set or clear the <a class="el" href="group__OFL__flags.html#ga1">OFL_WAITTOCLEAR</a> flag. 
<p>
This function is only a legacy interface to the <a class="el" href="group__output.html#ga20">out_setflags</a> and <a class="el" href="group__output.html#ga21">out_clearflags</a> macros. It's used to control the <a class="el" href="group__OFL__flags.html#ga1">OFL_WAITTOCLEAR</a> flag. This flag controls whether or not pauses will be forced before screen clears to make sure the user has time to read the last characters of the previous screen.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>f</em>&nbsp;</td><td>Causes the flag to be set if non-zero, or to be cleared if zero. </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00591">591</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga18" doxytag="output.h::XLATION_OFF" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define XLATION_OFF&nbsp;&nbsp;&nbsp;-1		/**&lt; Disable automatic translation */          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Disable automatic translation. 
<p>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00287">287</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga19" doxytag="output.h::XLATION_ON" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define XLATION_ON&nbsp;&nbsp;&nbsp;-2		/**&lt; Re-enable automatic translation */          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Re-enable automatic translation. 
<p>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00288">288</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga15" doxytag="output.h::__out_setclear" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void __out_setclear           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>set</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap><a class="el" href="config_8h.html#a159">uint32</a>&nbsp;</td>
          <td class="mdname" nowrap> <em>f</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="output.h::out_addsubstvar" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void out_addsubstvar           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *(*&nbsp;</td>
          <td class="mdname" nowrap> <em>varcalc</em>)(void)</td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Install a new substitution variable. 
<p>
This function may be called from within your own modules to install new, local substitution variables. This function only adds a single variable. You might find it handy to add multiple variables by using this little trick (also available as example out_subst.c):<p>
<pre><div class="fragment">
struct substvar table []={
	{"BBS",      sv_bbstitle, NULL},
	{"COMPANY",  sv_company,  NULL},
	{"ADDRESS1", sv_address1, NULL},
	{"",         NULL,        NULL}
};

. . .

int i=0;

while (table [i].varname [0]) {
	out_addsubstvar (table [i].varname, table [i].varcalc);
	i++;
}
</div></pre><p>
This has the additional advantage of reusing the struct substvar datatype for our own, vile purposes. Note how the <code>next</code> (i.e. the third) field isn't used here and is initialised to <code>NULL</code>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>name</em>&nbsp;</td><td>The name of the substitution variable, as a string. You can either specify the name with the enclosing at-signs <code>@</code>, or plain. The function will add any missing at-signs internally.</td></tr>
    <tr><td></td><td valign=top><em>varcalc</em>&nbsp;</td><td>A function of that returns a string. This function will be called in response to encountering a variable <code>name</code>. The return value of the function will used instead of the variable. This allows pretty complex functionality.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga4">out_initsubstvars()</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="out__subst_8c-example.html#a10">out_subst.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga14" doxytag="output.h::out_catfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int out_catfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a file verbatim. 
<p>
Works a bit like <a class="el" href="group__output.html#ga12">out_printfile()</a>, but does <em>not</em> format the file before output. Substitution variables will not expand, formatting directives will be printed as-is, et cetera.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>fname</em>&nbsp;</td><td>The filename of the file to print.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>One on success, zero if opening the file failed, in which case <code>errno</code> will contain the exact error.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga12">out_printfile()</a>, <a class="el" href="group__output.html#ga13">out_printlongfile()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="output.h::out_done" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void out_done           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Shut down output to the user. 
<p>
Nothing much to this function, really. Almost everything is handled by the operating system, anyway.     </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="output.h::out_init" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void out_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialise output subsystem. 
<p>
Prepares for output to the user by opening the system prompt block (<a class="el" href="structsysvar.html">sysvar</a>), initialising substitution variables, and giving default values to the output flags.     </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="output.h::out_initsubstvars" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void out_initsubstvars           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialise substitution variables. 
<p>
This function is called by <a class="el" href="group__output.html#ga2">out_init()</a>, which is in turn called by <a class="el" href="group__toplevel.html#ga7">mod_init()</a>. You shouldn't have to call it yourself. It adds a wide collection of built-in, system-wide substitution variables, using calls to <a class="el" href="group__output.html#ga5">out_addsubstvar()</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd>out_substvar(). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="output.h::out_printfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int out_printfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a file. 
<p>
This function causes a file to be opened and its contents printed using successive calls to the <code><a class="el" href="group__output.html#ga10">print()</a></code> function. Any substitution variables within the file will be expanded, and any formatting directives will be obeyed as usual.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>fname</em>&nbsp;</td><td>The filename of the file to print.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>One on success, zero if opening the file failed, in which case { errno} will contain the exact error.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga13">out_printlongfile()</a>, <a class="el" href="group__output.html#ga14">out_catfile()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="output.h::out_printlongfile" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int out_printlongfile           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>fname</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Print a file. 
<p>
Works exactly like <a class="el" href="group__output.html#ga12">out_printfile()</a>. This function, however, puts the terminal in non-blocking mode. The user may press a special control character (Enter, New Line, Line Feed, Escape, Control-C or Control-O) to stop the transmission. The terminal is reset to its previous mode of operation after the function finishes, using <a class="el" href="group__inp__lowlevel.html#ga9">inp_resetblocking()</a>. Do not use this latter function with <a class="el" href="group__output.html#ga13">out_printlongfile()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>fname</em>&nbsp;</td><td>The filename of the file to print.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>One on success, zero if opening the file failed, in which case { errno} will contain the exact error.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga12">out_printfile()</a>, <a class="el" href="group__output.html#ga14">out_catfile()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="output.h::out_setxlation" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void out_setxlation           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>mode</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Control character translation. 
<p>
This function controls how characters will be translated, if at all.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>mode</em>&nbsp;</td><td>The number of the translation table to use for both input and output characters. Alternatively, one of the following:</td></tr>
  </table>
</dl>
<ul>
<li><code>XLATION_OFF</code>. Disables automatic translation. This is necessary before running software that talks to the user (or some client) in binary, or simply to display something to the user without translation (though I can't think of a reason at 2am).</li></ul>
<p>
<ul>
<li><code>XLATION_ON</code>. Enables automatic translation, using whatever table used to be active at the time of de-activation. Useful for turning translation back on (see above).</li></ul>
<p>
Please bear in mind that the translation itself is done by <code>emud</code>, and so any settings are persistent throughout the user's session with the system. The translation table is initialised by <code>emud</code> itself in the beginning, so don't change it unless you can guarantee the user will be able to read whatever you're sending!<p>
Currently, the only use for <code>XLATION_OFF</code> and <code>XLATION_ON</code> is to disable (temporarily) translation while a binary file transfer protocol (like Z-Modem) is running. The only use for the function itself is during the logon or signup processes, or after changing translation preferences in the Account module.     </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="output.h::print" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void print           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Format and print a string. 
<p>
This is the equivalent of <code>printf()</code> in the context of Megistos. It performs <em>exactly</em> like <code>printf()</code>, which is small wonder, considering it uses <code>vsprintf()</code> interally.<p>
You <em>should not</em> use this function to print literal strings. BBS internationalisation and customisation depend on having all strings inside prompt blocks. Okay, so we don't always follow this rule, but we try to, and we (usually) only print white space.<p>
`Why is this function here, then', I hear you ask (among death threats and other severe complaints). It's useful for formatting and printing strings that you've previously constructed from prompts and stored for later. Really, it <em>does</em> have its uses.<p>
Like all of the output functions in this subsystem, <a class="el" href="group__output.html#ga10">print()</a> does line wrapping, justification, et cetera in order to print out your string. This, of course, depends on your wishes, as embedded within the string in the form of format directives.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>buf</em>&nbsp;</td><td>A string with zero or more format specifiers, followed by zero or more additional arguments based on the number and type of format specifiers.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>printf(), <a class="el" href="group__output.html#ga11">sprint()</a>, <a class="el" href="group__output.html#ga7">prompt()</a>, <a class="el" href="group__output.html#ga8">sprompt()</a>. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="mod__dialog_8c-example.html#a4">mod_dialog.c</a>.</dl>    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="output.h::prompt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void prompt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Format and display a prompt. 
<p>
Ah, the building block of every module in the system. This function performs almost all of the output of your average module. It works in much the same was as <code>printf()</code>. Unlike the omnipresent C function, however, <a class="el" href="group__output.html#ga7">prompt()</a> doesn't use a string format string, but a <code>number</code>. The number indices one of the prompts inside the currently active prompt block. These indices have symbolic names attached to them, that are also defined in C headers. A prompt block called <code>test.mbk</code> containing a prompt called HELLO would thus have an include file <code>test.h</code> with something like <code>#define HELLO 4</code>.<p>
The <a class="el" href="group__output.html#ga7">prompt()</a> function takes just this symbolic name for a prompt, where it obtains the format string. Most prompts have no format specifiers, and thus take no arguments, just like you can use <code>printf()</code> to print a string without formatting numbers et cetera inside it. Format specifiers within prompt blocks are exactly the same as those used by <code>printf()</code> and friends. The same rules about number and type of additional arguments hold here, too.<p>
The format specifiers are substituted with formatted strings, numbers (and what have you) <em>before</em> anything else. Variable substitution, line wrapping, et cetera happen immediately afterwards.<p>
This function is not without its limits. Expect horrific breakage if the prompt is longer than 8 kbytes. Actually, the breakages may occur somewhere between 8 and 16 kbytes. This is a reasonable limit: given an 80 by 25 text mode, 8 kbytes is around four <em>completely</em> full screens. If you need to print something this large, you're probably doing something wrong (try using the Menu Manager, which prints out the contents of entire files without size limitations), or just use <a class="el" href="group__output.html#ga12">out_printfile()</a> or <a class="el" href="group__output.html#ga14">out_catfile()</a> within your module.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>num</em>&nbsp;</td><td>The prompt number to use, followed by any arguments needed by the prompt in question.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>printf(), <a class="el" href="group__output.html#ga8">sprompt()</a>, <a class="el" href="group__output.html#ga9">sprompt_other()</a>, <a class="el" href="group__output.html#ga10">print()</a>, <a class="el" href="group__output.html#ga11">sprint()</a>, sprint_other(). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="output.h::sprint" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void sprint           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>stg</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Format and store a string. 
<p>
This function resembles <a class="el" href="group__output.html#ga10">print()</a>, but stores its results in a string instead of printing them. Its workings are <em>not</em> identical! There are subtle but important differences in semantics. Unlike <a class="el" href="group__output.html#ga10">print()</a>, <a class="el" href="group__output.html#ga11">sprint()</a>:<p>
<ul>
<li>Does not offer page breaks.</li><li>Does not interpret, expand, strip or translate ANSI directives.</li><li>Does not interpret or act on formatting directives.</li><li>Does not consult or alter the output flags.</li><li>Generally alters no state.</li></ul>
<p>
However, like <a class="el" href="group__output.html#ga10">print()</a>, <a class="el" href="group__output.html#ga11">sprint()</a> <em>does</em> expand substitution variables.<p>
This function is useful for delayed evaluation of user prompts. Strings created with <a class="el" href="group__output.html#ga11">sprint()</a> can be stored and later shown to the user with <a class="el" href="group__output.html#ga10">print()</a>, which will take care of page breaks, ANSI and formatting directives. However, substitution variables will be expanded at the time <a class="el" href="group__output.html#ga11">sprint()</a> was called.<p>
Alternatively, you can prepare a message using msg_getu() and <a class="el" href="group__output.html#ga11">sprint()</a>. Then invoke <a class="el" href="group__useracc.html#ga14">usr_injoth()</a> to send the string to another user. The string will be formatted <em>locally</em> for that user's terminal and preferences. Substitution variables will reflect the state of affairs of the user calling <a class="el" href="group__output.html#ga11">sprint()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>stg</em>&nbsp;</td><td>The string to store the formatted text in.</td></tr>
    <tr><td></td><td valign=top><em>buf</em>&nbsp;</td><td>A string with zero or more format specifiers, followed by zero or more additional arguments based on the number and type of format specifiers.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd>printf(), <a class="el" href="group__output.html#ga10">print()</a>, <a class="el" href="group__output.html#ga7">prompt()</a>, <a class="el" href="group__output.html#ga8">sprompt()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="output.h::sprompt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void sprompt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Format a prompt and store it in a string. 
<p>
This function behaves somewhat like <a class="el" href="group__output.html#ga7">prompt()</a>, but stores the formatted text in a string, instead of printing it out directly. There are a few subtle but important differences, due to the way <a class="el" href="group__output.html#ga11">sprint()</a> works. See the documentation for <a class="el" href="group__output.html#ga11">sprint()</a> for a list of the differences in formatting.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>buf</em>&nbsp;</td><td>The buffer to hold the resultant prompt string.</td></tr>
    <tr><td></td><td valign=top><em>num</em>&nbsp;</td><td>The prompt number to use, followed by any arguments needed by the prompt in question.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga7">prompt()</a>, <a class="el" href="group__output.html#ga9">sprompt_other()</a>, printf(), <a class="el" href="group__output.html#ga10">print()</a>, <a class="el" href="group__output.html#ga11">sprint()</a>, sprint_other(). </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="output.h::sprompt_other" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char* sprompt_other           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">struct <a class="el" href="structshmuserrec.html">shmuserrec</a> *&nbsp;</td>
          <td class="mdname" nowrap> <em>ushm</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>char *&nbsp;</td>
          <td class="mdname" nowrap> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>&nbsp;</td>
          <td class="mdname" nowrap> <em>...</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Format a prompt for another user and store it in a string. 
<p>
This function behaves just like like <a class="el" href="group__output.html#ga8">sprompt()</a>, but takes into account the other user's (::othruser) setup. If the other user is a bot, the string will be in a suitable format. It will also be in the other user's language. Other than that, semantics are identical to those of <a class="el" href="group__output.html#ga11">sprint()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>ushm</em>&nbsp;</td><td>The struct shmuserrec structure for the other user. This will almost always be <a class="el" href="group__user__shm.html#ga1">othrshm</a>.</td></tr>
    <tr><td></td><td valign=top><em>buf</em>&nbsp;</td><td>The buffer to hold the resultant prompt string.</td></tr>
    <tr><td></td><td valign=top><em>num</em>&nbsp;</td><td>The prompt number to use, followed by any arguments needed by the prompt in question.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>A pointer to the resultant <code>buf</code>.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__output.html#ga7">prompt()</a>, <a class="el" href="group__output.html#ga8">sprompt()</a>, printf(), <a class="el" href="group__output.html#ga10">print()</a>, <a class="el" href="group__output.html#ga11">sprint()</a>, sprint_other(). </dd></dl>
    </td>
  </tr>
</table>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ga0" doxytag="output.h::out_buffer" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> char <a class="el" href="group__output.html#ga0">out_buffer</a>[8192]          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00110">110</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="output.h::out_flags" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="config_8h.html#a159">uint32</a> <a class="el" href="group__output.html#ga1">out_flags</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Temporary output buffer. 
<p>

<p>
Definition at line <a class="el" href="output_8h-source.html#l00111">111</a> of file <a class="el" href="output_8h-source.html">output.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:03 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
