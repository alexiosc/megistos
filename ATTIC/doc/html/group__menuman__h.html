<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: The Menu Manager Interface</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>The Menu Manager Interface</h1>The discussion below is largely academic: you won't need to call the menu manager from your own modules (<em>it</em> calls <em>them</em>) and you definitely shouldn't include this header file.  
<a href="#_details">More...</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structmenuoption.html">menuoption</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structmenupage.html">menupage</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structfilepage.html">filepage</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structexecpage.html">execpage</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>struct &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="structrunpage.html">runpage</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>union &nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="unionmenumanpage.html">menumanpage</a></td></tr>

<tr><td colspan=2><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga0">PAGENAMELEN</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga1">PAGEDESCRLEN</a>&nbsp;&nbsp;&nbsp;44</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga2">MENUOPTNUM</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga3">FNAMELEN</a>&nbsp;&nbsp;&nbsp;64</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga4">INPUTSTRLEN</a>&nbsp;&nbsp;&nbsp;192</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga5">RUNSTRLEN</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga6">PAGETYPE_MENU</a>&nbsp;&nbsp;&nbsp;'M'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga7">PAGETYPE_FILE</a>&nbsp;&nbsp;&nbsp;'F'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga8">PAGETYPE_EXEC</a>&nbsp;&nbsp;&nbsp;'E'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga9">PAGETYPE_RUN</a>&nbsp;&nbsp;&nbsp;'R'</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga10">DEFAULTCCR</a>&nbsp;&nbsp;&nbsp;(-1&lt;&lt;30)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga11">MPF_HIDDEN</a>&nbsp;&nbsp;&nbsp;0x0001</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>#define&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__menuman__h.html#ga12">MPF_INHIBIT</a>&nbsp;&nbsp;&nbsp;0x0002</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The discussion below is largely academic: you won't need to call the menu manager from your own modules (<em>it</em> calls <em>them</em>) and you definitely shouldn't include this header file. 
<p>
The API already defines enough menuman-related functionality for your modules. I'll still include the description, in the hope that it'll be useful at some later stage.<p>
The menu manager was inspired by the corresponding subsystem in the Major BBS. Of course, Major's menuman was created for an entirely different environment. Megistos' Menu Manager is a more versatile thingy, but the experienced Major programmer may notice behavioural similarities.<p>
The menu manager is a `meta-module': it behaves as the glue that binds modules together. It handles all menuing outside modules. The operator defines a number of <em>pages</em>. There are four types of pages:<p>
<ul>
<li>Menu pages. These offer menus to the user. Each of the menu's options take the user to another page.</li></ul>
<p>
<ul>
<li>File pages. These pages print out specific files to the user. Different files can be specified for each supported language. Also, depending on the user's terminal settings (e.g. whether their terminal has VT-100/ANSI graphics capabilities), different files may be printed. All this is implemented using file suffixes. Intelligent fallbacks are supplied. Once the file has been printed, the user is returned to the Menu page they came from.</li></ul>
<p>
<ul>
<li>Command execution pages. Also known as `exec' pages. These execute a specified UNIX command when the user accesses them. Commands may be interactive or not. While the user is executing the command, he appears to be busy and no inactivity timeouts are enforced.</li></ul>
<p>
<ul>
<li>Module execution pages. Also known as `run' pages. These pass interactive control to a BBS module to handle further user input. Control passes to the calling page when the module is finished. Each page may specify a string of concatenated commands to be passed to the module. In this way, different pages may access different parts of a module, effectively allowing for different entry points.</li></ul>
<p>
Pages have three basic security features built into them. They can be made available to only one user class; access may be limited to users who possess a key; and options may be hidden from view, even if they are available to a user.<p>
Each page has its own multilingual description used in statistics and when the user issues the <code>/#</code> global command. Individual per-page credit consumption rates may also be applied. Finally, each page has its own unique name. The names may be used by the user for quick, random access to pages using the <code>/go</code> global command. <hr><h2>Define Documentation</h2>
<a class="anchor" name="ga10" doxytag="menuman.h::DEFAULTCCR" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define DEFAULTCCR&nbsp;&nbsp;&nbsp;(-1&lt;&lt;30)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00138">138</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="menuman.h::FNAMELEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define FNAMELEN&nbsp;&nbsp;&nbsp;64          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00129">129</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="menuman.h::INPUTSTRLEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define INPUTSTRLEN&nbsp;&nbsp;&nbsp;192          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00130">130</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga2" doxytag="menuman.h::MENUOPTNUM" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MENUOPTNUM&nbsp;&nbsp;&nbsp;64          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00128">128</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="menuman.h::MPF_HIDDEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MPF_HIDDEN&nbsp;&nbsp;&nbsp;0x0001          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00203">203</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="menuman.h::MPF_INHIBIT" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define MPF_INHIBIT&nbsp;&nbsp;&nbsp;0x0002          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00204">204</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="menuman.h::PAGEDESCRLEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PAGEDESCRLEN&nbsp;&nbsp;&nbsp;44          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00127">127</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="menuman.h::PAGENAMELEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PAGENAMELEN&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00126">126</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="menuman.h::PAGETYPE_EXEC" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PAGETYPE_EXEC&nbsp;&nbsp;&nbsp;'E'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00135">135</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="menuman.h::PAGETYPE_FILE" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PAGETYPE_FILE&nbsp;&nbsp;&nbsp;'F'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00134">134</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="menuman.h::PAGETYPE_MENU" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PAGETYPE_MENU&nbsp;&nbsp;&nbsp;'M'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00133">133</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="menuman.h::PAGETYPE_RUN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define PAGETYPE_RUN&nbsp;&nbsp;&nbsp;'R'          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00136">136</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="menuman.h::RUNSTRLEN" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> #define RUNSTRLEN&nbsp;&nbsp;&nbsp;256          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="menuman_8h-source.html#l00131">131</a> of file <a class="el" href="menuman_8h-source.html">menuman.h</a>.    </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:03 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
