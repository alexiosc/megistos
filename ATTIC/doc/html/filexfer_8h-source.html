<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: filexfer.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>filexfer.h</h1><a href="filexfer_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00109 <span class="preprocessor">#ifndef RCS_VER </span>
<a name="l00110"></a><a class="code" href="group__filexfer.html#ga7">00110</a> <span class="preprocessor"></span><span class="preprocessor">#define RCS_VER "$Id: filexfer.h,v 1.4 2003/09/27 20:30:34 alexios Exp $"</span>
00111 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00112 <span class="preprocessor"></span>
00113 
00114 <span class="preprocessor">#ifndef FILEXFER_H</span>
00115 <span class="preprocessor"></span><span class="preprocessor">#define FILEXFER_H</span>
00116 <span class="preprocessor"></span>
00117 
<a name="l00118"></a><a class="code" href="group__filexfer.html#ga8">00118</a> <span class="preprocessor">#define XFERLIST TMPDIR"/xfer%05d"</span>
<a name="l00119"></a><a class="code" href="group__filexfer.html#ga9">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define TAGLIST  TMPDIR"/tag%s%s"</span>
00120 <span class="preprocessor"></span>
00121 
<a name="l00140"></a><a class="code" href="structxfer__item__t.html">00140</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00141"></a><a class="code" href="structxfer__item__t.html#o0">00141</a>         <a class="code" href="config_8h.html#a159">uint32</a> magic;           
<a name="l00142"></a><a class="code" href="structxfer__item__t.html#o1">00142</a>         <span class="keywordtype">char</span>   dir;             
<a name="l00143"></a><a class="code" href="structxfer__item__t.html#o2">00143</a>         <span class="keywordtype">char</span>   fullname[256];   
<a name="l00144"></a><a class="code" href="structxfer__item__t.html#o3">00144</a>         <span class="keywordtype">char</span>   *filename;       
<a name="l00145"></a><a class="code" href="structxfer__item__t.html#o4">00145</a>         <span class="keywordtype">char</span>   description[50]; 
<a name="l00146"></a><a class="code" href="structxfer__item__t.html#o5">00146</a>         <a class="code" href="config_8h.html#a159">uint32</a> auditfok;        
<a name="l00147"></a><a class="code" href="structxfer__item__t.html#o6">00147</a>         <span class="keywordtype">char</span>   auditsok[80];    
<a name="l00148"></a><a class="code" href="structxfer__item__t.html#o7">00148</a>         <span class="keywordtype">char</span>   auditdok[80];    
<a name="l00149"></a><a class="code" href="structxfer__item__t.html#o8">00149</a>         <span class="keywordtype">int</span>    auditffail;      
<a name="l00150"></a><a class="code" href="structxfer__item__t.html#o9">00150</a>         <span class="keywordtype">char</span>   auditsfail[80];  
<a name="l00151"></a><a class="code" href="structxfer__item__t.html#o10">00151</a>         <span class="keywordtype">char</span>   auditdfail[80];  
<a name="l00152"></a><a class="code" href="structxfer__item__t.html#o11">00152</a>         <span class="keywordtype">char</span>   cmdok[80];       
<a name="l00153"></a><a class="code" href="structxfer__item__t.html#o12">00153</a>         <span class="keywordtype">char</span>   cmdfail[80];     
<a name="l00154"></a><a class="code" href="structxfer__item__t.html#o13">00154</a>         <a class="code" href="config_8h.html#a159">uint32</a> size;            
<a name="l00155"></a><a class="code" href="structxfer__item__t.html#o14">00155</a>         <a class="code" href="config_8h.html#a155">int32</a>  credspermin;     
<a name="l00156"></a><a class="code" href="structxfer__item__t.html#o15">00156</a>         <a class="code" href="config_8h.html#a155">int32</a>  refund;          
<a name="l00157"></a><a class="code" href="structxfer__item__t.html#o16">00157</a>         <a class="code" href="config_8h.html#a159">uint32</a> flags;           
<a name="l00158"></a><a class="code" href="structxfer__item__t.html#o17">00158</a>         <a class="code" href="config_8h.html#a155">int32</a>  result;          
00159 } <a class="code" href="structxfer__item__t.html">xfer_item_t</a>;
00160 
00161 
00162 
<a name="l00163"></a><a class="code" href="group__filexfer.html#ga10">00163</a> <span class="preprocessor">#define XFER_ITEM_MAGIC "Mxfi" </span>
00189 <span class="preprocessor"></span>
<a name="l00190"></a><a class="code" href="group__FXM__flags.html#ga0">00190</a> <span class="preprocessor"></span><span class="preprocessor">#define FXM_UPLOAD    'U'</span>
<a name="l00191"></a><a class="code" href="group__FXM__flags.html#ga1">00191</a> <span class="preprocessor"></span><span class="preprocessor">#define FXM_DOWNLOAD  'D'</span>
<a name="l00192"></a><a class="code" href="group__FXM__flags.html#ga2">00192</a> <span class="preprocessor"></span><span class="preprocessor">#define FXM_TRANSIENT 'T'</span>
00193 <span class="preprocessor"></span>
00236 <span class="keywordtype">void</span> <a class="code" href="group__filexfer.html#ga0">xfer_setaudit</a>(uint32 fok, <span class="keywordtype">char</span> *sok, <span class="keywordtype">char</span> *dok,
00237                    uint32 ffail, <span class="keywordtype">char</span> *sfail, <span class="keywordtype">char</span> *dfail);
00238 
00239 
00262 <span class="keywordtype">void</span> <a class="code" href="group__filexfer.html#ga1">xfer_setcmd</a>(<span class="keywordtype">char</span> *cmdok, <span class="keywordtype">char</span> *cmdfail);
00263 
00264 
00292 <span class="keywordtype">int</span> <a class="code" href="group__filexfer.html#ga2">xfer_add</a> (<span class="keywordtype">char</span> mode, <span class="keywordtype">char</span> *file, <span class="keywordtype">char</span> *description,
00293               int32 refund, int32 credspermin);
00294 
00330 <span class="keywordtype">int</span> <a class="code" href="group__filexfer.html#ga3">xfer_addwild</a>(<span class="keywordtype">char</span> mode, <span class="keywordtype">char</span> *filespec, <span class="keywordtype">char</span> *description,
00331                  int32 refund, int32 credspermin);
00332 
00333 
00348 <span class="keywordtype">int</span> <a class="code" href="group__filexfer.html#ga4">xfer_run</a>();
00349 
00350 
00361 <span class="keywordtype">int</span> <a class="code" href="group__filexfer.html#ga5">xfer_kill_list</a>();
00362 
00363 
00375 <span class="keywordtype">int</span> <a class="code" href="group__filexfer.html#ga6">xfer_kill_taglist</a>();
00376 
00377 
00378 <span class="preprocessor">#endif </span><span class="comment">/* FILEXFER_H */</span>
00379 
00382 <span class="comment">/*</span>
00383 <span class="comment">LocalWords: filexfer Alexios doc BBS Megistos API customise legalese Exp</span>
00384 <span class="comment">LocalWords: otnotesize alexios bbs addwild GPL ifndef VER endif XFERLIST</span>
00385 <span class="comment">LocalWords: TMPDIR xfer TAGLIST tt struct uint dir FXM fullname basename</span>
00386 <span class="comment">LocalWords: auditfok auditsok auditdok int auditffail auditsfail cmdok em</span>
00387 <span class="comment">LocalWords: auditdfail cmdfail credspermin Mxfi ORred dok dfail param fok</span>
00388 <span class="comment">LocalWords: sok ffail sfail setaudit rm setcmd fstat wildcards filespec ls</span>
00389 <span class="comment">LocalWords: globs errno taglist</span>
00390 <span class="comment">*/</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:02 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
