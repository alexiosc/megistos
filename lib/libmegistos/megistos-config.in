#!/bin/sh

 #############################################################################
 ##                                                                         ##
 ##  FILE:     megistos-config                                              ##
 ##  AUTHORS:  Alexios                                                      ##
 ##  PURPOSE:  Yield information about a Megistos BBS build.                ##
 ##  NOTES:                                                                 ##
 ##  LEGALESE:                                                              ##
 ##                                                                         ##
 ##  This program is free software; you  can redistribute it and/or modify  ##
 ##  it under the terms of the GNU  General Public License as published by  ##
 ##  the Free Software Foundation; either version 2 of the License, or (at  ##
 ##  your option) any later version.                                        ##
 ##                                                                         ##
 ##  This program is distributed  in the hope  that it will be useful, but  ##
 ##  WITHOUT    ANY WARRANTY;   without  even  the    implied warranty  of  ##
 ##  MERCHANTABILITY or  FITNESS FOR  A PARTICULAR  PURPOSE.   See the GNU  ##
 ##  General Public License for more details.                               ##
 ##                                                                         ##
 ##  You  should have received a copy   of the GNU  General Public License  ##
 ##  along with    this program;  if   not, write  to  the   Free Software  ##
 ##  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.              ##
 #############################################################################

# $Id$
#
# $Log$
# Revision 1.1  2003/08/15 20:09:51  alexios
# Initial revision.
#

# Based heavily on xmms-config, whose blurb reads:
#
# Written 15 December 1999 by Ben Gertzfield <che@debian.org>
# Based *HEAVILY* on gtk-config from the GTK+ library package.
#
# This work is released under the GNU GPL, version 2 or later.

prefix="@prefix@"
exec_prefix="@exec_prefix@"
exec_prefix_set=no
data_dir="@PKGDATADIR@"
version="@VERSION@"
include_dir="@PKGINCLUDEDIR@"
lib_dir="@PKGLIBDIR@"

#module_dir="@moduledir@"
#visualization_plugin_dir="${exec_prefix}/lib/xmms/Visualization"
#input_plugin_dir="${exec_prefix}/lib/xmms/Input"
#output_plugin_dir="${exec_prefix}/lib/xmms/Output"
#effect_plugin_dir="${exec_prefix}/lib/xmms/Effect"
#general_plugin_dir="${exec_prefix}/lib/xmms/General"

usage()
{
    cat <<EOF
Usage: $0 [OPTIONS]
Options:
    [--prefix[=DIR]]
    [--exec-prefix[=DIR]]
    [--version]
    [--ldflags]
    [--cflags]
    [--lib-dir]
    [--data-dir]

EOF
    exit $1
}

if test $# -eq 0; then
    usage 1 1>&2
fi


while test $# -gt 0; do
    case "$1" in
	-*=*) optarg=`echo "$1" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
	*) optarg= ;;
    esac

    case $1 in
	--prefix=*)
	    prefix=$optarg
	    if test $exec_prefix_set = no ; then
		exec_prefix=$optarg
	    fi
	    ;;

	--prefix)
	    echo_prefix=yes
	    ;;

	--exec-prefix=*)
	    exec_prefix=$optarg
	    exec_prefix_set=yes
	    ;;

	--exec-prefix)
	    echo_exec_prefix=yes
	    ;;

	--version)
	    echo $version
	    ;;

	--cflags)
	    echo_cflags=yes
	    ;;

	--ldflags)
	    echo_ldflags=yes
	    ;;

	--data-dir)
	    echo_data_dir=yes
	    ;;

	--lib-dir)
	    echo_lib_dir=yes
	    ;;

	*)
	    usage 1 1>&2
	    ;;
    esac
  shift
done

if test "$echo_prefix" = "yes"; then
    echo $prefix
fi

if test "$echo_exec_prefix" = "yes"; then
    echo $exec_prefix
fi

if test "$include_dir" != "/usr/include"; then
    cflags="-I$include_dir @CFLAGS@"
else
    cflags="-I$include_dir @CFLAGS@"
fi

if test "$lib_dir" != "/usr/lib"; then
    ldflags="-L$lib_dir -l@BASENAME@"
else
    ldflags="-l@BASENAME@"
fi

if test "$echo_cflags" = "yes"; then
    echo $cflags
fi

if test "$echo_ldflags" = "yes"; then
    echo $ldflags
fi

if test "$echo_data_dir" = "yes"; then
    echo $data_dir
fi

if test "$echo_lib_dir" = "yes"; then
    echo $lib_dir
fi

