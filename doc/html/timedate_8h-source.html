<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: timedate.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>timedate.h</h1><a href="timedate_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00091 
00092 
00093 <span class="preprocessor">#ifndef RCS_VER </span>
<a name="l00094"></a><a class="code" href="timedate_8h.html#a0">00094</a> <span class="preprocessor"></span><span class="preprocessor">#define RCS_VER "$Id: timedate.h,v 1.5 2003/12/19 13:25:18 alexios Exp $"</span>
00095 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00096 <span class="preprocessor"></span>
00097 
00098 
00099 <span class="preprocessor">#ifndef TIMEDATE_H</span>
00100 <span class="preprocessor"></span><span class="preprocessor">#define TIMEDATE_H</span>
00101 <span class="preprocessor"></span>
00102 
00118 <span class="comment">/* We include this preemptively so that compilers don't complain about</span>
00119 <span class="comment">   already defined __isleap() or isleap() when people later include</span>
00120 <span class="comment">   time.h (or whatever WANT_TIME_H includes). */</span>
00121 
<a name="l00122"></a><a class="code" href="timedate_8h.html#a1">00122</a> <span class="preprocessor">#define WANT_TIME_H 1</span>
00123 <span class="preprocessor"></span><span class="preprocessor">#include &lt;<a class="code" href="bbsinclude_8h.html">megistos/bbsinclude.h</a>&gt;</span>
00124 
00125 
00126 <span class="comment">/* Y2K compliant isleap(). Forced redefinition in case this system</span>
00127 <span class="comment">   already has a (broken) version of it. */</span>
00128 
00129 <span class="preprocessor">#ifndef isleap</span>
<a name="l00130"></a><a class="code" href="timedate_8h.html#a2">00130</a> <span class="preprocessor"></span><span class="preprocessor">#  define isleap(year) __isleap(year)</span>
00131 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00132 <span class="preprocessor"></span><span class="preprocessor">#undef __isleap</span>
<a name="l00133"></a><a class="code" href="timedate_8h.html#a3">00133</a> <span class="preprocessor"></span><span class="preprocessor">#define __isleap(year) ((year)%4==0&amp;&amp;((year)%100!=0||(year)%400==0))</span>
00134 <span class="preprocessor"></span>
00135 
<a name="l00136"></a><a class="code" href="timedate_8h.html#a4">00136</a> <span class="preprocessor">#define tdhour(t) ((t&gt;&gt;16)&amp;0x1f)</span>
<a name="l00137"></a><a class="code" href="timedate_8h.html#a5">00137</a> <span class="preprocessor"></span><span class="preprocessor">#define tdmin(t) ((t&gt;&gt;8)&amp;0x3f)</span>
<a name="l00138"></a><a class="code" href="timedate_8h.html#a6">00138</a> <span class="preprocessor"></span><span class="preprocessor">#define tdsec(t) (t&amp;0x3f)</span>
00139 <span class="preprocessor"></span>
<a name="l00140"></a><a class="code" href="timedate_8h.html#a7">00140</a> <span class="preprocessor">#define tdday(d) (d&amp;0x1f)</span>
<a name="l00141"></a><a class="code" href="timedate_8h.html#a8">00141</a> <span class="preprocessor"></span><span class="preprocessor">#define tdmonth(d) ((d&gt;&gt;8)&amp;0x0f)</span>
<a name="l00142"></a><a class="code" href="timedate_8h.html#a9">00142</a> <span class="preprocessor"></span><span class="preprocessor">#define tdyear(d) (((d&gt;&gt;16)&amp;0xff)+1970)</span>
00143 <span class="preprocessor"></span>
00144 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a10">maketime</a>(<span class="keywordtype">int</span> h, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> s);
00145 
00146 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a11">makedate</a>(<span class="keywordtype">int</span> d, <span class="keywordtype">int</span> m, <span class="keywordtype">int</span> y);
00147 
00148 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a12">today</a>();
00149 
00150 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a13">now</a>();
00151 
00152 <span class="keywordtype">char</span> *<a class="code" href="timedate_8h.html#a14">strtime</a>(<span class="keywordtype">long</span> time,<span class="keywordtype">int</span> secstoo);
00153 
00154 <span class="keywordtype">char</span> *<a class="code" href="timedate_8h.html#a15">strdate</a>(<span class="keywordtype">long</span> date);
00155 
00156 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a16">scandate</a>(<span class="keywordtype">char</span> *datstr);
00157 
00158 <span class="keywordtype">int</span> <a class="code" href="timedate_8h.html#a17">scantime</a>(<span class="keywordtype">char</span> *timstr);
00159 
00160 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a18">cofdate</a>(<span class="keywordtype">long</span> date);
00161 
00162 <span class="keywordtype">long</span> <a class="code" href="timedate_8h.html#a19">dateofc</a>(<span class="keywordtype">long</span> count);
00163 
00164 <span class="keywordtype">int</span> <a class="code" href="timedate_8h.html#a20">getdow</a>(<span class="keywordtype">int</span> date);
00165 
00166 
00167 <span class="preprocessor">#endif </span><span class="comment">/* TIMEDATE_H */</span>
00168 
00170 <span class="comment">/*</span>
00171 <span class="comment">LocalWords: timedate Alexios doc Megistos newbie BBS API tt pm legalese</span>
00172 <span class="comment">LocalWords: otnotesize alexios Exp bbs getdow GPL ifndef VER endif isleap</span>
00173 <span class="comment">LocalWords: bbsinclude undef tdhour tdmin tdsec tdday tdmonth tdyear int</span>
00174 <span class="comment">LocalWords: maketime makedate strtime secstoo strdate scandate datstr</span>
00175 <span class="comment">LocalWords: scantime timstr cofdate dateofc</span>
00176 <span class="comment">*/</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:02 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
