<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: Low-Level Input Functionality</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>Low-Level Input Functionality<br>
<small>
[<a class="el" href="group__input.html">Reading data from the user</a>]</small>
</h1>You should generally not need to mess around with these.  
<a href="#_details">More...</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga0">inp_init</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise input subsystem.  <a href="#ga0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga1">inp_done</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shutdown input system.  <a href="#ga1"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga2">inp_acceptinjoth</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Display any queued injected messages.  <a href="#ga2"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga3">inp_setmonitorid</a> (char *tty_or_uid)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set tty or username for monitoring.  <a href="#ga3"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga4">inp_monitor</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Monitor a line.  <a href="#ga4"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga5">inp_readstring</a> (int maxlen)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low-level input function.  <a href="#ga5"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga6">inp_reprompt</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a reprompt is necessary.  <a href="#ga6"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga7">inp_nonblock</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set non-blocking mode.  <a href="#ga7"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga8">inp_block</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set blocking mode.  <a href="#ga8"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga9">inp_resetblocking</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Revert to previous blocking mode.  <a href="#ga9"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga10">inp_setidle</a> (int t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set user inactivity timeout.  <a href="#ga10"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga11">inp_resetidle</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset user inactivity timer.  <a href="#ga11"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>int&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga12">inp_isX</a> (char *s)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check for the eXit command.  <a href="#ga12"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga13">inp_timeout</a> (int msec, int intrusive)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set user input timeout.  <a href="#ga13"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga14">inp_cancel</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abort pending user input.  <a href="#ga14"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga15">inp_setflags</a> (<a class="el" href="config_8h.html#a159">uint32</a> f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set input flags.  <a href="#ga15"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="group__inp__lowlevel.html#ga16">inp_clearflags</a> (<a class="el" href="config_8h.html#a159">uint32</a> f)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set input flags.  <a href="#ga16"></a><br><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
You should generally not need to mess around with these. 
<p>
Use the mid- or high-level functions instead. They will make your life much easier. Functionality of this level is provided for the advanced author who needs to add features not present in the mid- or high-level functions. <hr><h2>Function Documentation</h2>
<a class="anchor" name="ga2" doxytag="input.h::inp_acceptinjoth" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int inp_acceptinjoth           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Display any queued injected messages. 
<p>
In implementing low-level input functions (i.e. those that wait for individual keystrokes from the user), you should call this function while waiting for user input.<p>
If you won't be accepting injected messages, you had better flag this in the user's online structure so that other users know that injected messages aren't presented to this user. Hell hath no fury like a user ignored.<p>
<dl compact><dt><b>Returns:</b></dt><dd>One if one or more injected messages were shown to the user. Zero if nothing was sent to the user. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga8" doxytag="input.h::inp_block" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_block           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set blocking mode. 
<p>
Puts the terminal into blocking mode, the default, sane condition. In this mode, read operations block the caller until data is available.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga7">inp_nonblock()</a>, <a class="el" href="group__inp__lowlevel.html#ga9">inp_resetblocking()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga14" doxytag="input.h::inp_cancel" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_cancel           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Abort pending user input. 
<p>
This function is for use by signal handlers in conjunction with <a class="el" href="group__inp__lowlevel.html#ga13">inp_timeout()</a>. It causes <a class="el" href="group__inp__lowlevel.html#ga5">inp_readstring()</a> to exit, setting <a class="el" href="group__INF__flags.html#ga4">INF_TIMEOUT</a>.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga13">inp_timeout()</a>, <a class="el" href="group__inp__lowlevel.html#ga5">inp_readstring</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga16" doxytag="input.h::inp_clearflags" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_clearflags           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="config_8h.html#a159">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>f</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set input flags. 
<p>
Clears a number of input flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>f</em>&nbsp;</td><td>a number of <code>INF_x</code> flags ORred together.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga15">inp_setflags()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga1" doxytag="input.h::inp_done" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_done           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Shutdown input system. 
<p>
Don't call this yourself, <a class="el" href="group__toplevel.html#ga8">mod_done()</a> and <a class="el" href="group__toplevel.html#ga9">mod_end()</a> do it for you.     </td>
  </tr>
</table>
<a class="anchor" name="ga0" doxytag="input.h::inp_init" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_init           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Initialise input subsystem. 
<p>
Prepares for user input by tweaking terminal, setting variables to a sane status, et cetera. Don't call this, <a class="el" href="group__toplevel.html#ga7">mod_init()</a> does it for you when you request <a class="el" href="group__INI__flags.html#ga1">INI_INPUT</a> or <a class="el" href="group__INI__flags.html#ga12">INI_ALL</a>.     </td>
  </tr>
</table>
<a class="anchor" name="ga12" doxytag="input.h::inp_isX" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int inp_isX           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>s</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check for the eXit command. 
<p>
This simple function checks if the given string contains the exit command (X).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>s</em>&nbsp;</td><td>a string to test.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>Non-zero if <code>s</code> was the exit command, zero otherwise. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga4" doxytag="input.h::inp_monitor" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_monitor           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Monitor a line. 
<p>
Writes the current value of <a class="el" href="group__input.html#ga1">inp_buffer</a> to the monitor structure. Passwords are protected. Do not call this yourself, unless you're building a low-level input function (one that waits for individual keystrokes from the user).     </td>
  </tr>
</table>
<a class="anchor" name="ga7" doxytag="input.h::inp_nonblock" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_nonblock           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set non-blocking mode. 
<p>
Puts the terminal into non-blocking mode. In this mode, read operations return immediately, regardless of whether there is data to be read or not. This is absolutely useless (dangerous, actually) for most conventional input operations, but it allows you to set up for real-time operations, like key combinations to break out of lists (recommended as a second means of stopping <em>long</em> lists in case the user was stupid enough to disable paging or choose a non-stop listing), or for MUDs.<p>
<dl compact><dt><b>Warning:</b></dt><dd>Don't forget to set blocking mode as soon as you're done! Failure to do so may cause nasty behaviour.<p>
The low-level line input operations always switch you back to blocking mode on termination.</dd></dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga7">inp_nonblock()</a>, <a class="el" href="group__inp__lowlevel.html#ga9">inp_resetblocking()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga5" doxytag="input.h::inp_readstring" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_readstring           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>maxlen</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Low-level input function. 
<p>
Reads a string of a certain maximum length into <a class="el" href="group__input.html#ga1">inp_buffer</a>. Does nothing else. The input length can be limited to an arbitrary number of characters, in which case the function will interactively block input until characters are deleted, making the length limitation plain to the user.<p>
You should not call this function directly. Use <a class="el" href="group__inp__midlevel.html#ga0">inp_get()</a> instead. If you need raw strings, not margc/margv-style parsing, use <a class="el" href="group__inp__midlevel.html#ga3">inp_raw()</a> immediately afterwards.<p>
The function waits for user input. If the user has entered nothing (or has deleted everything), <a class="el" href="group__inp__lowlevel.html#ga2">inp_acceptinjoth()</a> is called periodically to present any waiting injected messages. If any are shown, the function exits, setting <a class="el" href="group__INF__flags.html#ga2">INF_REPROMPT</a>, so that the caller can re-issue the last prompt.<p>
If a timeout set with <a class="el" href="group__inp__lowlevel.html#ga13">inp_timeout()</a> expires, the function issues a last call to <a class="el" href="group__inp__lowlevel.html#ga2">inp_acceptinjoth()</a>, sets the <a class="el" href="group__INF__flags.html#ga4">INF_TIMEOUT</a> flag, and exits.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>maxlen</em>&nbsp;</td><td>the maximum number of characters to allow. Don't set this too low unless absolutely necessary. Even if you only need a single-character string, it's better to check the length and rebuff the user than to do this. You must <em>always</em> allow the user to enter long global commands. <em>DO NOT SET THIS ARGUMENT TO VALUES GREATER THAN <code>MAXINPLEN-1.</code></em></td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><em> <a class="el" href="group__inp__midlevel.html#ga0">inp_get()</a>. </em></dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga6" doxytag="input.h::inp_reprompt" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> int inp_reprompt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Check if a reprompt is necessary. 
<p>
<dl compact><dt><b>Returns:</b></dt><dd>Non-zero if the <a class="el" href="group__INF__flags.html#ga2">INF_REPROMPT</a> flag is set. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga9" doxytag="input.h::inp_resetblocking" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_resetblocking           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Revert to previous blocking mode. 
<p>
Takes you back to the previously active blocking mode. Every time you call <a class="el" href="group__inp__lowlevel.html#ga8">inp_block()</a> or <a class="el" href="group__inp__lowlevel.html#ga7">inp_nonblock()</a>, the previous state of the terminal is saved internally. You can use this function to revert to it.<p>
Although I doubt the usefulness of this function, it might come in handy.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga7">inp_nonblock()</a>, <a class="el" href="group__inp__lowlevel.html#ga9">inp_resetblocking()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga11" doxytag="input.h::inp_resetidle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_resetidle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Reset user inactivity timer. 
<p>
This is called every time user input is received, to reset the inactivity timeout.<p>
There are very few cases when you need to do this.<p>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga10">inp_setidle()</a> </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga15" doxytag="input.h::inp_setflags" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_setflags           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="config_8h.html#a159">uint32</a>&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>f</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set input flags. 
<p>
Sets a number of input flags.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>f</em>&nbsp;</td><td>a number of <code>INF_x</code> flags ORred together.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga16">inp_clearflags()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga10" doxytag="input.h::inp_setidle" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_setidle           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>t</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set user inactivity timeout. 
<p>
Not to be confused with input timeouts arranged by <a class="el" href="group__inp__lowlevel.html#ga13">inp_timeout()</a>. This function sets the user inactivity timeout for the current user. When the timeout counter reaches approximately 60 seconds, the <code>bbsd</code> daemon lets the user know that they will be kicked out in a minute. If the counter reaches zero, the user is kicked out of the system so as not to consume credits and possibly busy BBS channels. In the meantime, any single character input by the user resets the timer to the value specified here.<p>
Idle timeouts are imposed on all users except those with the Master Key (i.e. Sysops). Certain conditions may force timeouts even on Sysops (like logging in over telnet in Megistos 0.98 and 0.99 -- this may change in the future).<p>
There is absolutely no reason why you should change this.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>t</em>&nbsp;</td><td>the inactivity time in seconds.</td></tr>
  </table>
</dl>
<dl compact><dt><b>See also:</b></dt><dd><a class="el" href="group__inp__lowlevel.html#ga11">inp_resetidle()</a>. </dd></dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga3" doxytag="input.h::inp_setmonitorid" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_setmonitorid           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">char *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>tty_or_uid</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set tty or username for monitoring. 
<p>
You can do this yourself, but <em>don't</em>. It's set by <a class="el" href="group__inp__lowlevel.html#ga0">inp_init()</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>tty_or_uid</em>&nbsp;</td><td>a user ID or UNIX tty name shown to any monitoring sysops. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="ga13" doxytag="input.h::inp_timeout" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> void inp_timeout           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>msec</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>intrusive</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Set user input timeout. 
<p>
This one allows getinput() to timeout for some reason or other. Not recommended as it doesn't fit in with the entire BBS philosophy, but there are applications (like MUDs or the <em>adventure</em> module) where this is needed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td></td><td valign=top><em>msec</em>&nbsp;</td><td>the number of milliseconds (ms) after which to terminate (this is accurate to <em>at most</em> 10 ms, the delay between checks for new keyboard input).</td></tr>
    <tr><td></td><td valign=top><em>intrusive</em>&nbsp;</td><td>supply a non-zero value for <code>intrusive</code> to cause getinput() to terminate even if the user has started typing something. The default behaviour, <code>intrusive=0</code> is to only timeout if the user is 100% idle (empty input line). Intrusive mode is not recommended, as it interrupts the user --- the system should <em>never</em> interrupt the user unless there's a very, very good reason.</td></tr>
  </table>
</dl>
Upon timeout, global variables ::inptimeout_msec and ::inptimeout_intrusive are reset to <code>0</code>. This is the official method of checking whether getinput() has timed out. Variable ::inptimeout_msec is used as a counter by inputstring(). This means you have to call setinputtimeout() before every call to getinput() that needs a timeout.     </td>
  </tr>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:03 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
