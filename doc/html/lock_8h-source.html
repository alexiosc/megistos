<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: lock.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>lock.h</h1><a href="lock_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00064 <span class="preprocessor">#ifndef RCS_VER </span>
<a name="l00065"></a><a class="code" href="lock_8h.html#a0">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define RCS_VER "$Id: lock.h,v 1.4 2003/09/27 20:31:31 alexios Exp $"</span>
00066 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00067 <span class="preprocessor"></span>
00068 
00069 
00070 <span class="preprocessor">#ifndef LOCK_H</span>
00071 <span class="preprocessor"></span><span class="preprocessor">#define LOCK_H</span>
00072 <span class="preprocessor"></span>
00073 
00100 <span class="comment">/* The lock daemon's UNIX domain socket name */</span>
00101 
<a name="l00102"></a><a class="code" href="group__lock.html#ga4">00102</a> <span class="preprocessor">#define BBSLOCKD_SOCKET mkfname(BBSETCDIR"/lock.socket")</span>
00103 <span class="preprocessor"></span>
00104 
00105 <span class="comment">/* Locking commands */</span>
00106 
00107 <span class="preprocessor">#ifdef __BBSLOCKD__</span>
00108 <span class="preprocessor"></span><span class="preprocessor">#define LKC_PLACE  "MAKE"</span>
00109 <span class="preprocessor"></span><span class="preprocessor">#define LKC_CHECK  "CHCK"</span>
00110 <span class="preprocessor"></span><span class="preprocessor">#define LKC_REMOVE "KILL"</span>
00111 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00112 <span class="preprocessor"></span>
00113 
00114 
00143 
<a name="l00144"></a><a class="code" href="group__LKR__flags.html#ga0">00144</a> <span class="preprocessor">#define LKR_OK       0          </span>
<a name="l00145"></a><a class="code" href="group__LKR__flags.html#ga1">00145</a> <span class="preprocessor">#define LKR_STALE   -1          </span>
<a name="l00146"></a><a class="code" href="group__LKR__flags.html#ga2">00146</a> <span class="preprocessor">#define LKR_OWN     -2          </span>
<a name="l00147"></a><a class="code" href="group__LKR__flags.html#ga3">00147</a> <span class="preprocessor">#define LKR_TIMEOUT -3          </span>
<a name="l00148"></a><a class="code" href="group__LKR__flags.html#ga4">00148</a> <span class="preprocessor">#define LKR_ERROR   -4          </span>
<a name="l00149"></a><a class="code" href="group__LKR__flags.html#ga5">00149</a> <span class="preprocessor">#define LKR_SYNTAX  -5          </span>
00152 <span class="preprocessor"></span>
00153 <span class="preprocessor"></span>
00173 <span class="keywordtype">int</span> <a class="code" href="group__lock.html#ga0">lock_place</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> <span class="keywordtype">char</span> *info);
00174 
00175 
00191 <span class="keywordtype">int</span> <a class="code" href="group__lock.html#ga1">lock_check</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">char</span> *info);
00192 
00193 
00204 <span class="keywordtype">int</span> <a class="code" href="group__lock.html#ga2">lock_rm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name);
00205 
00206 
00220 <span class="keywordtype">int</span> <a class="code" href="group__lock.html#ga3">lock_wait</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name,<span class="keywordtype">int</span> delay);
00221 
00222 
00226 <span class="preprocessor">#endif </span><span class="comment">/* LOCK_H */</span>
00227 
00228 <span class="comment">/*</span>
00229 <span class="comment">LocalWords: Alexios doc BBS Lockd foo PID CHCK tt LKR legalese alexios Exp</span>
00230 <span class="comment">LocalWords: bbs Rationalised bbslockd GPL ifndef VER endif BBSETCDIR ifdef</span>
00231 <span class="comment">LocalWords: LKC Lock's param int const errno rm</span>
00232 <span class="comment">*/</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:02 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
