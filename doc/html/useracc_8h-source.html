<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Megistos API: useracc.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a> | <a class="qindex" href="examples.html">Examples</a></div>
<h1>useracc.h</h1><a href="useracc_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 
00112 <span class="preprocessor">#ifndef RCS_VER </span>
<a name="l00113"></a><a class="code" href="useracc_8h.html#a0">00113</a> <span class="preprocessor"></span><span class="preprocessor">#define RCS_VER "$Id: useracc.h,v 1.5 2003/12/19 13:25:18 alexios Exp $"</span>
00114 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00115 <span class="preprocessor"></span>
00116 
00117 
00118 <span class="preprocessor">#ifndef USERACC_H</span>
00119 <span class="preprocessor"></span><span class="preprocessor">#define USERACC_H</span>
00120 <span class="preprocessor"></span>
00121 <span class="preprocessor">#ifndef CHAR</span>
<a name="l00122"></a><a class="code" href="useracc_8h.html#a1">00122</a> <span class="preprocessor"></span><span class="preprocessor">#define CHAR unsigned char</span>
00123 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00124 <span class="preprocessor"></span>
00125 <span class="preprocessor">#include &lt;<a class="code" href="config_8h.html">megistos/config.h</a>&gt;</span>
00126 
00127 
<a name="l00138"></a><a class="code" href="group__useracc.html#ga17">00138</a> <span class="preprocessor">#define DELIM    "!@#$%^&amp;*-_=+.:"</span>
00139 <span class="preprocessor"></span>
<a name="l00223"></a><a class="code" href="structuseracc__t.html">00223</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00224"></a><a class="code" href="structuseracc__t.html#o0">00224</a>         <span class="keywordtype">char</span>     userid   [24];    
<a name="l00225"></a><a class="code" href="structuseracc__t.html#o1">00225</a>         <span class="keywordtype">char</span>     passwd   [16];    
<a name="l00226"></a><a class="code" href="structuseracc__t.html#o2">00226</a>         <span class="keywordtype">char</span>     username [32];    
<a name="l00227"></a><a class="code" href="structuseracc__t.html#o3">00227</a>         <span class="keywordtype">char</span>     company  [32];    
<a name="l00228"></a><a class="code" href="structuseracc__t.html#o4">00228</a>         <span class="keywordtype">char</span>     address1 [32];    
<a name="l00229"></a><a class="code" href="structuseracc__t.html#o5">00229</a>         <span class="keywordtype">char</span>     address2 [32];    
<a name="l00230"></a><a class="code" href="structuseracc__t.html#o6">00230</a>         <span class="keywordtype">char</span>     phone    [24];    
<a name="l00231"></a><a class="code" href="structuseracc__t.html#o7">00231</a>         <a class="code" href="config_8h.html#a159">uint32</a>   prefs;            
<a name="l00232"></a><a class="code" href="structuseracc__t.html#o8">00232</a>         <a class="code" href="config_8h.html#a159">uint32</a>   flags;            
<a name="l00233"></a><a class="code" href="structuseracc__t.html#o9">00233</a>         <a class="code" href="config_8h.html#a159">uint32</a>   sysaxs   [ 3];    
<a name="l00234"></a><a class="code" href="structuseracc__t.html#o10">00234</a>         <a class="code" href="config_8h.html#a157">uint8</a>    age;              
<a name="l00235"></a><a class="code" href="structuseracc__t.html#o11">00235</a>         <span class="keywordtype">char</span>     sex;              
<a name="l00236"></a><a class="code" href="structuseracc__t.html#o12">00236</a>         <a class="code" href="config_8h.html#a157">uint8</a>    system;           
<a name="l00237"></a><a class="code" href="structuseracc__t.html#o13">00237</a>         <a class="code" href="config_8h.html#a157">uint8</a>    language;         
<a name="l00238"></a><a class="code" href="structuseracc__t.html#o14">00238</a>         <a class="code" href="config_8h.html#a157">uint8</a>    scnwidth;         
<a name="l00239"></a><a class="code" href="structuseracc__t.html#o15">00239</a>         <a class="code" href="config_8h.html#a157">uint8</a>    scnheight;        
<a name="l00240"></a><a class="code" href="structuseracc__t.html#o16">00240</a>         <a class="code" href="config_8h.html#a159">uint32</a>   datecre;          
<a name="l00241"></a><a class="code" href="structuseracc__t.html#o17">00241</a>         <a class="code" href="config_8h.html#a159">uint32</a>   datelast;         
<a name="l00242"></a><a class="code" href="structuseracc__t.html#o18">00242</a>         <a class="code" href="config_8h.html#a155">int32</a>    passexp;          
<a name="l00243"></a><a class="code" href="structuseracc__t.html#o19">00243</a>         <span class="keywordtype">char</span>     tempclss [10];    
<a name="l00244"></a><a class="code" href="structuseracc__t.html#o20">00244</a>         <span class="keywordtype">char</span>     curclss  [10];    
<a name="l00245"></a><a class="code" href="structuseracc__t.html#o21">00245</a>         <a class="code" href="config_8h.html#a155">int32</a>    timetdy;          
<a name="l00246"></a><a class="code" href="structuseracc__t.html#o22">00246</a>         <a class="code" href="config_8h.html#a155">int32</a>    classdays;        
<a name="l00247"></a><a class="code" href="structuseracc__t.html#o23">00247</a>         <a class="code" href="config_8h.html#a159">uint32</a>   credits;          
<a name="l00248"></a><a class="code" href="structuseracc__t.html#o24">00248</a>         <a class="code" href="config_8h.html#a155">int32</a>    totcreds;         
<a name="l00249"></a><a class="code" href="structuseracc__t.html#o25">00249</a>         <a class="code" href="config_8h.html#a155">int32</a>    totpaid;          
<a name="l00250"></a><a class="code" href="structuseracc__t.html#o26">00250</a>         <a class="code" href="config_8h.html#a161">bbskey_t</a> keys[<a class="code" href="config_8h.html#a131">KEYLENGTH</a>];  
<a name="l00251"></a><a class="code" href="structuseracc__t.html#o27">00251</a>         <a class="code" href="config_8h.html#a159">uint32</a>   timever;          
<a name="l00252"></a><a class="code" href="structuseracc__t.html#o28">00252</a>         <a class="code" href="config_8h.html#a159">uint32</a>   credsever;        
<a name="l00253"></a><a class="code" href="structuseracc__t.html#o29">00253</a>         <a class="code" href="config_8h.html#a155">int32</a>    pagetime;         
<a name="l00254"></a><a class="code" href="structuseracc__t.html#o30">00254</a>         <a class="code" href="config_8h.html#a155">int32</a>    pagestate;        
<a name="l00255"></a><a class="code" href="structuseracc__t.html#o31">00255</a>         <a class="code" href="config_8h.html#a159">uint32</a>   filesdnl;         
<a name="l00256"></a><a class="code" href="structuseracc__t.html#o32">00256</a>         <a class="code" href="config_8h.html#a159">uint32</a>   bytesdnl;         
<a name="l00257"></a><a class="code" href="structuseracc__t.html#o33">00257</a>         <a class="code" href="config_8h.html#a159">uint32</a>   filesupl;         
<a name="l00258"></a><a class="code" href="structuseracc__t.html#o34">00258</a>         <a class="code" href="config_8h.html#a159">uint32</a>   bytesupl;         
<a name="l00259"></a><a class="code" href="structuseracc__t.html#o35">00259</a>         <a class="code" href="config_8h.html#a159">uint32</a>   msgswritten;      
<a name="l00260"></a><a class="code" href="structuseracc__t.html#o36">00260</a>         <a class="code" href="config_8h.html#a159">uint32</a>   connections;      
<a name="l00261"></a><a class="code" href="structuseracc__t.html#o37">00261</a>         <span class="keywordtype">char</span>     lastclub[16];     
<a name="l00262"></a><a class="code" href="structuseracc__t.html#o38">00262</a>         <a class="code" href="config_8h.html#a159">uint32</a>   auditfiltering;   
<a name="l00264"></a><a class="code" href="structuseracc__t.html#o39">00264</a>         <span class="keywordtype">char</span>     dummy[1020-348];  
<a name="l00265"></a><a class="code" href="structuseracc__t.html#o40">00265</a>         <span class="keywordtype">char</span>     magic[4];         
00266 } <a class="code" href="structuseracc__t.html">useracc_t</a>;
00267 
00268 
<a name="l00271"></a><a class="code" href="group__useracc.html#ga18">00271</a> <span class="preprocessor">#define USR_MAGIC     "USER"</span>
00272 <span class="preprocessor"></span>
00273 
<a name="l00307"></a><a class="code" href="group__UPF__flags.html#ga0">00307</a> <span class="preprocessor">#define UPF_ANSION    0x0001 </span>
<a name="l00308"></a><a class="code" href="group__UPF__flags.html#ga1">00308</a> <span class="preprocessor">#define UPF_VISUAL    0x0002 </span>
<a name="l00309"></a><a class="code" href="group__UPF__flags.html#ga2">00309</a> <span class="preprocessor">#define UPF_NONSTOP   0x0004 </span>
<a name="l00310"></a><a class="code" href="group__UPF__flags.html#ga3">00310</a> <span class="preprocessor">#define UPF_ANSIDEF   0x0008 </span>
<a name="l00311"></a><a class="code" href="group__UPF__flags.html#ga4">00311</a> <span class="preprocessor">#define UPF_ANSIASK   0x0010 </span>
<a name="l00312"></a><a class="code" href="group__UPF__flags.html#ga5">00312</a> <span class="preprocessor">#define UPF_OBSOLETE  0x0020 </span>
<a name="l00313"></a><a class="code" href="group__UPF__flags.html#ga6">00313</a> <span class="preprocessor">#define UPF_TRDEF     0x0040 </span>
<a name="l00314"></a><a class="code" href="group__UPF__flags.html#ga7">00314</a> <span class="preprocessor">#define UPF_TRASK     0x0080 </span>
<a name="l00315"></a><a class="code" href="group__UPF__flags.html#ga8">00315</a> <span class="preprocessor">#define UPF_TR0       0x0100 </span>
<a name="l00316"></a><a class="code" href="group__UPF__flags.html#ga9">00316</a> <span class="preprocessor">#define UPF_TR1       0x0200 </span>
<a name="l00317"></a><a class="code" href="group__UPF__flags.html#ga10">00317</a> <span class="preprocessor">#define UPF_TR2       0x0300 </span>
<a name="l00318"></a><a class="code" href="group__UPF__flags.html#ga11">00318</a> <span class="preprocessor">#define UPF_TR3       0x0400 </span>
<a name="l00320"></a><a class="code" href="group__UPF__flags.html#ga12">00320</a> <span class="preprocessor">#define UPF_TRANS     (UPF_TR0|UPF_TR1|UPF_TR2|UPF_TR3)</span>
<a name="l00321"></a><a class="code" href="group__UPF__flags.html#ga13">00321</a> <span class="preprocessor"></span><span class="preprocessor">#define UPF_TRSHIFT   8</span>
00322 <span class="preprocessor"></span>
00323 
00324 
<a name="l00335"></a><a class="code" href="group__UPF__flags.html#ga14">00335</a> <span class="preprocessor">#define usr_getpxlation(u)   (((u).flags&amp;UPF_TRANS)&gt;&gt;UPF_TRSHIFT)</span>
00336 <span class="preprocessor"></span>
00337 
<a name="l00347"></a><a class="code" href="group__UPF__flags.html#ga15">00347</a> <span class="preprocessor">#define usr_setpxlation(u,i) ((u).flags=((u).flags&amp;~UPF_TRANS)|\</span>
00348 <span class="preprocessor">                          (((i)&amp;0xf)&lt;&lt;UPF_TRSHIFT))</span>
00349 <span class="preprocessor"></span>
<a name="l00535"></a><a class="code" href="group__USY__flags.html#ga0">00535</a> <span class="preprocessor">#define USY_CHANGE      0       </span>
<a name="l00536"></a><a class="code" href="group__USY__flags.html#ga1">00536</a> <span class="preprocessor">#define USY_EMULATE     1       </span>
<a name="l00537"></a><a class="code" href="group__USY__flags.html#ga2">00537</a> <span class="preprocessor">#define USY_MONITOR     2       </span>
<a name="l00538"></a><a class="code" href="group__USY__flags.html#ga3">00538</a> <span class="preprocessor">#define USY_SEND        3       </span>
<a name="l00539"></a><a class="code" href="group__USY__flags.html#ga4">00539</a> <span class="preprocessor">#define USY_DELETE     10       </span>
<a name="l00540"></a><a class="code" href="group__USY__flags.html#ga5">00540</a> <span class="preprocessor">#define USY_DETAIL     11       </span>
<a name="l00541"></a><a class="code" href="group__USY__flags.html#ga6">00541</a> <span class="preprocessor">#define USY_EXEMPT     12       </span>
<a name="l00542"></a><a class="code" href="group__USY__flags.html#ga7">00542</a> <span class="preprocessor">#define USY_HANGUP     13       </span>
<a name="l00543"></a><a class="code" href="group__USY__flags.html#ga8">00543</a> <span class="preprocessor">#define USY_POST       14       </span>
<a name="l00544"></a><a class="code" href="group__USY__flags.html#ga9">00544</a> <span class="preprocessor">#define USY_SEARCH     15       </span>
<a name="l00545"></a><a class="code" href="group__USY__flags.html#ga10">00545</a> <span class="preprocessor">#define USY_SUSPEND    16       </span>
<a name="l00546"></a><a class="code" href="group__USY__flags.html#ga11">00546</a> <span class="preprocessor">#define USY_AUDIT      20       </span>
<a name="l00547"></a><a class="code" href="group__USY__flags.html#ga12">00547</a> <span class="preprocessor">#define USY_CLEANUP    21       </span>
<a name="l00548"></a><a class="code" href="group__USY__flags.html#ga13">00548</a> <span class="preprocessor">#define USY_EVENT      22       </span>
<a name="l00549"></a><a class="code" href="group__USY__flags.html#ga14">00549</a> <span class="preprocessor">#define USY_LOGON      23       </span>
<a name="l00550"></a><a class="code" href="group__USY__flags.html#ga15">00550</a> <span class="preprocessor">#define USY_TRANSFER   24       </span>
<a name="l00551"></a><a class="code" href="group__USY__flags.html#ga16">00551</a> <span class="preprocessor">#define USY_SECURITY   25       </span>
<a name="l00552"></a><a class="code" href="group__USY__flags.html#ga17">00552</a> <span class="preprocessor">#define USY_SIGNUPS    26       </span>
<a name="l00553"></a><a class="code" href="group__USY__flags.html#ga18">00553</a> <span class="preprocessor">#define USY_FILTAUD    27       </span>
<a name="l00554"></a><a class="code" href="group__USY__flags.html#ga19">00554</a> <span class="preprocessor">#define USY_AGESTATS   30       </span>
<a name="l00555"></a><a class="code" href="group__USY__flags.html#ga20">00555</a> <span class="preprocessor">#define USY_CLSSTATS   31       </span>
<a name="l00556"></a><a class="code" href="group__USY__flags.html#ga21">00556</a> <span class="preprocessor">#define USY_GENSTATS   32       </span>
<a name="l00557"></a><a class="code" href="group__USY__flags.html#ga22">00557</a> <span class="preprocessor">#define USY_LINSTATS   33       </span>
<a name="l00558"></a><a class="code" href="group__USY__flags.html#ga23">00558</a> <span class="preprocessor">#define USY_MODSTATS   34       </span>
<a name="l00559"></a><a class="code" href="group__USY__flags.html#ga24">00559</a> <span class="preprocessor">#define USY_SYSTATS    35       </span>
<a name="l00560"></a><a class="code" href="group__USY__flags.html#ga25">00560</a> <span class="preprocessor">#define USY_TOP        36       </span>
<a name="l00561"></a><a class="code" href="group__USY__flags.html#ga26">00561</a> <span class="preprocessor">#define USY_CLASS      40       </span>
<a name="l00562"></a><a class="code" href="group__USY__flags.html#ga27">00562</a> <span class="preprocessor">#define USY_CLASSED    41       </span>
<a name="l00563"></a><a class="code" href="group__USY__flags.html#ga28">00563</a> <span class="preprocessor">#define USY_KEYS       42       </span>
<a name="l00564"></a><a class="code" href="group__USY__flags.html#ga29">00564</a> <span class="preprocessor">#define USY_COPY       50       </span>
<a name="l00565"></a><a class="code" href="group__USY__flags.html#ga30">00565</a> <span class="preprocessor">#define USY_DEL        51       </span>
<a name="l00566"></a><a class="code" href="group__USY__flags.html#ga31">00566</a> <span class="preprocessor">#define USY_DIR        52       </span>
<a name="l00567"></a><a class="code" href="group__USY__flags.html#ga32">00567</a> <span class="preprocessor">#define USY_EDITOR     53       </span>
<a name="l00568"></a><a class="code" href="group__USY__flags.html#ga33">00568</a> <span class="preprocessor">#define USY_REN        54       </span>
<a name="l00569"></a><a class="code" href="group__USY__flags.html#ga34">00569</a> <span class="preprocessor">#define USY_SHELL      55       </span>
<a name="l00570"></a><a class="code" href="group__USY__flags.html#ga35">00570</a> <span class="preprocessor">#define USY_SYS        56       </span>
<a name="l00571"></a><a class="code" href="group__USY__flags.html#ga36">00571</a> <span class="preprocessor">#define USY_TYPE       57       </span>
<a name="l00572"></a><a class="code" href="group__USY__flags.html#ga37">00572</a> <span class="preprocessor">#define USY_PAGEAUDIT  90       </span>
<a name="l00573"></a><a class="code" href="group__USY__flags.html#ga38">00573</a> <span class="preprocessor">#define USY_INVIS      91       </span>
<a name="l00574"></a><a class="code" href="group__USY__flags.html#ga39">00574</a> <span class="preprocessor">#define USY_GDET       92       </span>
<a name="l00575"></a><a class="code" href="group__USY__flags.html#ga40">00575</a> <span class="preprocessor">#define USY_SYSOP      95       </span>
<a name="l00576"></a><a class="code" href="group__USY__flags.html#ga41">00576</a> <span class="preprocessor">#define USY_MASTERKEY  95       </span>
00579 <span class="preprocessor"></span>
00580 <span class="preprocessor"></span>
<a name="l00596"></a><a class="code" href="group__UFL__flags.html#ga0">00596</a> <span class="preprocessor">#define UFL_SUSPENDED 0x00000001 </span>
<a name="l00597"></a><a class="code" href="group__UFL__flags.html#ga1">00597</a> <span class="preprocessor">#define UFL_DELETED   0x00000002 </span>
<a name="l00598"></a><a class="code" href="group__UFL__flags.html#ga2">00598</a> <span class="preprocessor">#define UFL_EXEMPT    0x00000004 </span>
00601 <span class="preprocessor"></span>
00602 <span class="preprocessor"></span>
<a name="l00617"></a><a class="code" href="group__USX__flags.html#ga0">00617</a> <span class="preprocessor">#define USX_MALE   'M'          </span>
<a name="l00618"></a><a class="code" href="group__USX__flags.html#ga1">00618</a> <span class="preprocessor">#define USX_FEMALE 'F'          </span>
00621 <span class="preprocessor"></span>
00622 <span class="preprocessor"></span>
00623 
<a name="l00692"></a><a class="code" href="structclassrec__t.html">00692</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00693"></a><a class="code" href="structclassrec__t.html#o0">00693</a>         <span class="keywordtype">char</span>     name        [10];    
<a name="l00694"></a><a class="code" href="structclassrec__t.html#o1">00694</a>         <span class="keywordtype">char</span>     notaround   [10];    
<a name="l00695"></a><a class="code" href="structclassrec__t.html#o2">00695</a>         <a class="code" href="config_8h.html#a155">int32</a>    nadays;              
<a name="l00696"></a><a class="code" href="structclassrec__t.html#o3">00696</a>         <span class="keywordtype">char</span>     around      [10];    
<a name="l00697"></a><a class="code" href="structclassrec__t.html#o4">00697</a>         <a class="code" href="config_8h.html#a155">int32</a>    ardays;              
<a name="l00698"></a><a class="code" href="structclassrec__t.html#o5">00698</a>         <span class="keywordtype">char</span>     nocreds     [10];    
<a name="l00699"></a><a class="code" href="structclassrec__t.html#o6">00699</a>         <span class="keywordtype">char</span>     credpost    [10];    
<a name="l00700"></a><a class="code" href="structclassrec__t.html#o7">00700</a>         <a class="code" href="config_8h.html#a155">int32</a>    limpercall;          
<a name="l00701"></a><a class="code" href="structclassrec__t.html#o8">00701</a>         <a class="code" href="config_8h.html#a155">int32</a>    limperday;           
<a name="l00702"></a><a class="code" href="structclassrec__t.html#o9">00702</a>         <a class="code" href="config_8h.html#a155">int32</a>    crdperday;           
<a name="l00703"></a><a class="code" href="structclassrec__t.html#o10">00703</a>         <a class="code" href="config_8h.html#a155">int32</a>    crdperweek;          
<a name="l00704"></a><a class="code" href="structclassrec__t.html#o11">00704</a>         <a class="code" href="config_8h.html#a155">int32</a>    crdpermonth;         
<a name="l00705"></a><a class="code" href="structclassrec__t.html#o12">00705</a>         <a class="code" href="config_8h.html#a159">uint32</a>   flags;               
<a name="l00706"></a><a class="code" href="structclassrec__t.html#o13">00706</a>         <a class="code" href="config_8h.html#a159">uint32</a>   users;               
<a name="l00707"></a><a class="code" href="structclassrec__t.html#o14">00707</a>         <a class="code" href="config_8h.html#a161">bbskey_t</a> keys[<a class="code" href="config_8h.html#a131">KEYLENGTH</a>];     
<a name="l00709"></a><a class="code" href="structclassrec__t.html#o15">00709</a>         <span class="keywordtype">char</span> dummy[512-104];
00710 } <a class="code" href="structclassrec__t.html">classrec_t</a>;
00711 
00712 
<a name="l00741"></a><a class="code" href="group__CLF__flags.html#ga3">00741</a> <span class="preprocessor">#define CLF_NOCHRGE 0x0002   </span>
<a name="l00742"></a><a class="code" href="group__CLF__flags.html#ga4">00742</a> <span class="preprocessor">#define CLF_LINUX   0x0004   </span>
<a name="l00743"></a><a class="code" href="group__CLF__flags.html#ga5">00743</a> <span class="preprocessor">#define CLF_LOCKOUT 0x0008   </span>
<a name="l00744"></a><a class="code" href="group__CLF__flags.html#ga6">00744</a> <span class="preprocessor">#define CLF_CRDXFER 0x0010   </span>
00747 <span class="preprocessor"></span>
<a name="l00748"></a><a class="code" href="group__useracc.html#ga19">00748</a> <span class="preprocessor"></span><span class="preprocessor">#define ML NUMLANGUAGES</span>
00749 <span class="preprocessor"></span>
00750 
<a name="l00841"></a><a class="code" href="structonlinerec__t.html">00841</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{ 
<a name="l00842"></a><a class="code" href="structonlinerec__t.html#o0">00842</a>         <span class="keywordtype">char</span>   userid     [24];     
<a name="l00843"></a><a class="code" href="structonlinerec__t.html#o1">00843</a>         <span class="keywordtype">char</span>   channel    [16];     
<a name="l00844"></a><a class="code" href="structonlinerec__t.html#o2">00844</a>         <span class="keywordtype">char</span>   emupty     [16];     
<a name="l00845"></a><a class="code" href="structonlinerec__t.html#o3">00845</a>         <a class="code" href="config_8h.html#a155">int32</a>  baudrate;            
<a name="l00846"></a><a class="code" href="structonlinerec__t.html#o4">00846</a>         <span class="keywordtype">char</span>   curpage    [32];     
<a name="l00847"></a><a class="code" href="structonlinerec__t.html#o5">00847</a>         <span class="keywordtype">char</span>   prevpage   [32];     
<a name="l00848"></a><a class="code" href="structonlinerec__t.html#o6">00848</a>         <a class="code" href="config_8h.html#a159">uint32</a> flags;               
<a name="l00849"></a><a class="code" href="structonlinerec__t.html#o7">00849</a>         <span class="keywordtype">char</span>   input      [256];    
<a name="l00850"></a><a class="code" href="structonlinerec__t.html#o8">00850</a>         <span class="keywordtype">char</span>   descr      [<a class="code" href="group__useracc.html#ga19">ML</a>][44]; 
<a name="l00851"></a><a class="code" href="structonlinerec__t.html#o9">00851</a>         <a class="code" href="config_8h.html#a159">uint32</a> pagestate;           
<a name="l00852"></a><a class="code" href="structonlinerec__t.html#o10">00852</a>         <a class="code" href="config_8h.html#a159">uint32</a> lastpage;            
<a name="l00853"></a><a class="code" href="structonlinerec__t.html#o11">00853</a>         <a class="code" href="config_8h.html#a159">uint32</a> tick;                
<a name="l00854"></a><a class="code" href="structonlinerec__t.html#o12">00854</a>         <a class="code" href="config_8h.html#a155">int32</a>  credspermin;         
<a name="l00855"></a><a class="code" href="structonlinerec__t.html#o13">00855</a>         <a class="code" href="config_8h.html#a159">uint32</a> onlinetime;          
<a name="l00856"></a><a class="code" href="structonlinerec__t.html#o14">00856</a>         <a class="code" href="config_8h.html#a155">int32</a>  fraccharge;          
<a name="l00857"></a><a class="code" href="structonlinerec__t.html#o15">00857</a>         <a class="code" href="config_8h.html#a155">int32</a>  timeoutticks;        
<a name="l00858"></a><a class="code" href="structonlinerec__t.html#o16">00858</a>         <a class="code" href="config_8h.html#a155">int32</a>  idlezap;             
<a name="l00859"></a><a class="code" href="structonlinerec__t.html#o17">00859</a>         <a class="code" href="config_8h.html#a155">int32</a>  statptrs;            
<a name="l00860"></a><a class="code" href="structonlinerec__t.html#o18">00860</a>         <a class="code" href="config_8h.html#a155">int32</a>  statcreds;           
<a name="l00861"></a><a class="code" href="structonlinerec__t.html#o19">00861</a>         <a class="code" href="config_8h.html#a159">uint32</a> loggedin;            
<a name="l00862"></a><a class="code" href="structonlinerec__t.html#o20">00862</a>         <span class="keywordtype">char</span>   telechan[32];        
<a name="l00863"></a><a class="code" href="structonlinerec__t.html#o21">00863</a>         <a class="code" href="config_8h.html#a155">int32</a>  telecountdown;       
<a name="l00864"></a><a class="code" href="structonlinerec__t.html#o22">00864</a>         <a class="code" href="config_8h.html#a155">int32</a>  lastlib;             
<a name="l00865"></a><a class="code" href="structonlinerec__t.html#o23">00865</a>         <a class="code" href="config_8h.html#a155">int32</a>  injothqueue;         
<a name="l00866"></a><a class="code" href="structonlinerec__t.html#o24">00866</a>         <a class="code" href="config_8h.html#a159">uint32</a> lastconsolepage;     
<a name="l00868"></a><a class="code" href="structonlinerec__t.html#o25">00868</a>         <span class="keywordtype">char</span> dummy[1020-476-44*<a class="code" href="group__useracc.html#ga19">ML</a>]; 
<a name="l00869"></a><a class="code" href="structonlinerec__t.html#o26">00869</a>         <span class="keywordtype">char</span> magic[4];              
00870 } <a class="code" href="structonlinerec__t.html">onlinerec_t</a>;
00871 
00872 
00873 
<a name="l00874"></a><a class="code" href="group__useracc.html#ga20">00874</a> <span class="preprocessor">#define ONL_MAGIC     "OUSR"</span>
00875 <span class="preprocessor"></span>
00876 
<a name="l00954"></a><a class="code" href="group__OLF__FLAGS.html#ga0">00954</a> <span class="preprocessor">#define OLF_MMEXITING 0x00000001 </span>
<a name="l00955"></a><a class="code" href="group__OLF__FLAGS.html#ga1">00955</a> <span class="preprocessor">#define OLF_MMCALLING 0x00000002 </span>
<a name="l00956"></a><a class="code" href="group__OLF__FLAGS.html#ga2">00956</a> <span class="preprocessor">#define OLF_MMCONCAT  0x00000004 </span>
<a name="l00957"></a><a class="code" href="group__OLF__FLAGS.html#ga3">00957</a> <span class="preprocessor">#define OLF_ISYSOP    0x00000008 </span>
<a name="l00958"></a><a class="code" href="group__OLF__FLAGS.html#ga4">00958</a> <span class="preprocessor">#define OLF_INVISIBLE 0x00000010 </span>
<a name="l00959"></a><a class="code" href="group__OLF__FLAGS.html#ga5">00959</a> <span class="preprocessor">#define OLF_BUSY      0x00000020 </span>
<a name="l00960"></a><a class="code" href="group__OLF__FLAGS.html#ga6">00960</a> <span class="preprocessor">#define OLF_NOTIMEOUT 0x00000040 </span>
<a name="l00961"></a><a class="code" href="group__OLF__FLAGS.html#ga7">00961</a> <span class="preprocessor">#define OLF_ANSION    0x00000080 </span>
<a name="l00962"></a><a class="code" href="group__OLF__FLAGS.html#ga8">00962</a> <span class="preprocessor">#define OLF_TR0       0x00000100 </span>
<a name="l00963"></a><a class="code" href="group__OLF__FLAGS.html#ga9">00963</a> <span class="preprocessor">#define OLF_TR1       0x00000200 </span>
<a name="l00964"></a><a class="code" href="group__OLF__FLAGS.html#ga10">00964</a> <span class="preprocessor">#define OLF_TR2       0x00000400 </span>
<a name="l00965"></a><a class="code" href="group__OLF__FLAGS.html#ga11">00965</a> <span class="preprocessor">#define OLF_TR3       0x00000800 </span>
<a name="l00966"></a><a class="code" href="group__OLF__FLAGS.html#ga12">00966</a> <span class="preprocessor">#define OLF_MMGCDGO   0x00001000 </span>
<a name="l00967"></a><a class="code" href="group__OLF__FLAGS.html#ga13">00967</a> <span class="preprocessor">#define OLF_INHIBITGO 0x00002000 </span>
<a name="l00968"></a><a class="code" href="group__OLF__FLAGS.html#ga14">00968</a> <span class="preprocessor">#define OLF_INTELECON 0x00004000 </span>
<a name="l00969"></a><a class="code" href="group__OLF__FLAGS.html#ga15">00969</a> <span class="preprocessor">#define OLF_TLCUNLIST 0x00008000 </span>
<a name="l00970"></a><a class="code" href="group__OLF__FLAGS.html#ga16">00970</a> <span class="preprocessor">#define OLF_FORCEIDLE 0x00010000 </span>
<a name="l00971"></a><a class="code" href="group__OLF__FLAGS.html#ga17">00971</a> <span class="preprocessor">#define OLF_LOGGEDOUT 0x00020000 </span>
<a name="l00972"></a><a class="code" href="group__OLF__FLAGS.html#ga18">00972</a> <span class="preprocessor">#define OLF_RELOGGED  0x00040000 </span>
<a name="l00973"></a><a class="code" href="group__OLF__FLAGS.html#ga19">00973</a> <span class="preprocessor">#define OLF_ZAPBYPASS 0x00080000 </span>
<a name="l00974"></a><a class="code" href="group__OLF__FLAGS.html#ga20">00974</a> <span class="preprocessor">#define OLF_JMP2BLT   0x00100000 </span>
<a name="l00975"></a><a class="code" href="group__OLF__FLAGS.html#ga21">00975</a> <span class="preprocessor">#define OLF_INSYSCHAT 0x00200000 </span>
<a name="l00976"></a><a class="code" href="group__OLF__FLAGS.html#ga22">00976</a> <span class="preprocessor">#define OLF_AFTERINP  0x00400000 </span>
<a name="l00977"></a><a class="code" href="group__OLF__FLAGS.html#ga23">00977</a> <span class="preprocessor">#define OLF_ISBOT     0x00800000 </span>
<a name="l00979"></a><a class="code" href="group__OLF__FLAGS.html#ga24">00979</a> <span class="preprocessor">#define OLF_TRSHIFT      8</span>
<a name="l00980"></a><a class="code" href="group__OLF__FLAGS.html#ga25">00980</a> <span class="preprocessor"></span><span class="preprocessor">#define OLF_TRANS        (OLF_TR0|OLF_TR1|OLF_TR2|OLF_TR3)</span>
00981 <span class="preprocessor"></span>
00982 
<a name="l00993"></a><a class="code" href="group__OLF__FLAGS.html#ga26">00993</a> <span class="preprocessor">#define usr_getoxlation(o)   (((o).flags&amp;OLF_TRANS)&gt;&gt;OLF_TRSHIFT)</span>
00994 <span class="preprocessor"></span>
00995 
<a name="l01005"></a><a class="code" href="group__OLF__FLAGS.html#ga27">01005</a> <span class="preprocessor">#define usr_setoxlation(o,i) ((o).flags=((o).flags&amp;~OLF_TRANS)|\</span>
01006 <span class="preprocessor">                             (((i)&amp;0xf)&lt;&lt;OLF_TRSHIFT))</span>
01007 <span class="preprocessor"></span>
<a name="l01042"></a><a class="code" href="group__PGS__flags.html#ga0">01042</a> <span class="preprocessor">#define PGS_STORE     0</span>
<a name="l01043"></a><a class="code" href="group__PGS__flags.html#ga1">01043</a> <span class="preprocessor"></span><span class="preprocessor">#define PGS_OK        1</span>
<a name="l01044"></a><a class="code" href="group__PGS__flags.html#ga2">01044</a> <span class="preprocessor"></span><span class="preprocessor">#define PGS_ON        2</span>
<a name="l01045"></a><a class="code" href="group__PGS__flags.html#ga3">01045</a> <span class="preprocessor"></span><span class="preprocessor">#define PGS_OFF       3</span>
01046 <span class="preprocessor"></span>
<a name="l01050"></a><a class="code" href="group__useracc.html#ga21">01050</a> <span class="preprocessor">#define CRD_PAID      1</span>
<a name="l01051"></a><a class="code" href="group__useracc.html#ga22">01051</a> <span class="preprocessor"></span><span class="preprocessor">#define CRD_FREE      0</span>
01052 <span class="preprocessor"></span>
<a name="l01053"></a><a class="code" href="group__useracc.html#ga23">01053</a> <span class="preprocessor">#define STF_FIRST     1</span>
01054 <span class="preprocessor"></span>
01055 
<a name="l01102"></a><a class="code" href="structshmuserrec.html">01102</a> <span class="keyword">struct </span><a class="code" href="structshmuserrec.html">shmuserrec</a> {
<a name="l01103"></a><a class="code" href="structshmuserrec.html#o0">01103</a>         <a class="code" href="structuseracc__t.html">useracc_t</a>   <a class="code" href="structshmuserrec.html#o0">acc</a>;        
<a name="l01104"></a><a class="code" href="structshmuserrec.html#o1">01104</a>         <a class="code" href="structonlinerec__t.html">onlinerec_t</a> <a class="code" href="structshmuserrec.html#o1">onl</a>;        
<a name="l01105"></a><a class="code" href="structshmuserrec.html#o2">01105</a>         <span class="keywordtype">char</span>        <a class="code" href="structshmuserrec.html#o2">aux</a>[2048];  
01106 };
01107 
<a name="l01108"></a><a class="code" href="group__user__shm.html#ga0">01108</a> <span class="keyword">extern</span> <span class="keyword">struct </span><a class="code" href="structshmuserrec.html">shmuserrec</a> *<a class="code" href="group__user__shm.html#ga0">thisshm</a>, *<a class="code" href="group__user__shm.html#ga1">othrshm</a>;
01109 
<a name="l01110"></a><a class="code" href="group__user__shm.html#ga2">01110</a> <span class="preprocessor">#define thisuseracc   (thisshm-&gt;acc) </span>
<a name="l01111"></a><a class="code" href="group__user__shm.html#ga3">01111</a> <span class="preprocessor">#define othruseracc   (othrshm-&gt;acc) </span>
<a name="l01113"></a><a class="code" href="group__user__shm.html#ga4">01113</a> <span class="preprocessor">#define thisuseronl   (thisshm-&gt;onl) </span>
<a name="l01114"></a><a class="code" href="group__user__shm.html#ga5">01114</a> <span class="preprocessor">#define othruseronl   (othrshm-&gt;onl) </span>
<a name="l01116"></a><a class="code" href="group__user__shm.html#ga6">01116</a> <span class="preprocessor">#define _thisuseraux  (thisshm-&gt;aux) </span>
<a name="l01117"></a><a class="code" href="group__user__shm.html#ga7">01117</a> <span class="preprocessor">#define _othruseraux  (othrshm-&gt;aux) </span>
01120 <span class="preprocessor"></span>
01121 <span class="preprocessor"></span>
01122 <span class="comment">/* Buffer used by injoth and friends. */</span>
01123 
<a name="l01124"></a><a class="code" href="structinjoth__buf.html">01124</a> <span class="keyword">struct </span><a class="code" href="structinjoth__buf.html">injoth_buf</a> {
<a name="l01125"></a><a class="code" href="structinjoth__buf.html#o0">01125</a>         <span class="keywordtype">long</span> <a class="code" href="structinjoth__buf.html#o0">mtype</a>;                     
01127         <span class="keyword">union </span>{
<a name="l01128"></a><a class="code" href="structinjoth__buf.html#o1">01128</a>                 <span class="keywordtype">char</span> <a class="code" href="structinjoth__buf.html#o1">simple</a>[1];         
01130                 <span class="keyword">struct </span>{
<a name="l01131"></a><a class="code" href="structinjoth__buf.html#o2">01131</a>                         <span class="keywordtype">char</span>   <a class="code" href="structinjoth__buf.html#o2">sender</a>[24];      
<a name="l01132"></a><a class="code" href="structinjoth__buf.html#o3">01132</a>                         <a class="code" href="config_8h.html#a159">uint32</a> <a class="code" href="structinjoth__buf.html#o3">ackofs</a>;          
<a name="l01133"></a><a class="code" href="structinjoth__buf.html#o4">01133</a>                         <span class="keywordtype">char</span>   <a class="code" href="structinjoth__buf.html#o4">msg</a>[1];          
01134                 } withack;
01135         } <a class="code" href="structinjoth__buf.html#o6">m</a>;
01136 };
01137 
<a name="l01138"></a><a class="code" href="group__useracc.html#ga24">01138</a> <span class="preprocessor">#define INJ_MESSAGE      1      </span>
<a name="l01139"></a><a class="code" href="group__useracc.html#ga25">01139</a> <span class="preprocessor">#define INJ_MESSAGE_ACK  2      </span>
<a name="l01142"></a><a class="code" href="group__useracc.html#ga0">01142</a> <span class="preprocessor">extern classrec_t *cls_classes; </span>
<a name="l01143"></a><a class="code" href="group__useracc.html#ga1">01143</a> <span class="preprocessor">extern int         cls_count;   </span>
01155 <span class="preprocessor">classrec_t *cls_find (char *s);</span>
01156 <span class="preprocessor"></span>
01157 
01170 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga3">usr_exists</a>(<span class="keywordtype">char</span> *uid);
01171 
01172 
01190 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga4">usr_loadaccount</a> (<span class="keywordtype">char</span> *whose, <a class="code" href="structuseracc__t.html">useracc_t</a> *uacc);
01191 
01192 
01212 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga5">usr_loadonlrec</a> (<span class="keywordtype">char</span> *whose, <a class="code" href="structonlinerec__t.html">onlinerec_t</a> *onlrec);
01213 
01214 
01228 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga6">usr_saveaccount</a> (<a class="code" href="structuseracc__t.html">useracc_t</a> *uacc);
01229 
01230 
01245 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga7">usr_saveonlrec</a> (<a class="code" href="structonlinerec__t.html">onlinerec_t</a> *onlrec);
01246 
01247 
01267 <span class="keywordtype">void</span> <a class="code" href="group__useracc.html#ga8">usr_postcredits</a> (<span class="keywordtype">char</span> *userid, <span class="keywordtype">int</span> amount, <span class="keywordtype">int</span> paid);
01268 
01269 
01281 <span class="keywordtype">void</span> <a class="code" href="group__useracc.html#ga9">usr_chargecredits</a> (<span class="keywordtype">int</span> amount);
01282 
01283 
01299 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga10">usr_canpay</a>(<span class="keywordtype">int</span> amount);
01300 
01301 
01315 <span class="keywordtype">void</span> <a class="code" href="group__useracc.html#ga11">usr_setclass</a> (<span class="keywordtype">char</span> *userid, <span class="keywordtype">char</span> *newclass, <span class="keywordtype">int</span> permanent);
01316 
01317 
01345 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga12">usr_insystem</a>(<span class="keywordtype">char</span> *userid,<span class="keywordtype">int</span> checkinvis, <span class="keyword">struct</span> <a class="code" href="structshmuserrec.html">shmuserrec</a> **buf);
01346 
01347 
01364 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga13">usr_insys</a>(<span class="keywordtype">char</span> *userid,<span class="keywordtype">int</span> checkinvis);
01365 
01366 
01403 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga14">usr_injoth</a>(<a class="code" href="structonlinerec__t.html">onlinerec_t</a> *user, <span class="keywordtype">char</span> *msg, <span class="keywordtype">int</span> force);
01404 
01405 
01457 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga15">usr_injoth_ack</a>(<a class="code" href="structonlinerec__t.html">onlinerec_t</a> *user, <span class="keywordtype">char</span> *msg, <span class="keywordtype">char</span> *ack, <span class="keywordtype">int</span> force);
01458 
01459 
01512 <span class="keywordtype">int</span> <a class="code" href="group__useracc.html#ga16">usr_uidxref</a>(<span class="keywordtype">char</span> *userid, <span class="keywordtype">int</span> online);
01513 
01514 
01515 <span class="preprocessor">#endif   </span><span class="comment">/* USERACC_H */</span>
01516 
01519 <span class="comment">/*</span>
01520 <span class="comment">LocalWords: useracc Alexios doc legalese otnotesize al alexios Exp bbs GPL</span>
01521 <span class="comment">LocalWords: lastconsolepage onlinerec miscfx bbsd emud USY AUDITPAGE sysop</span>
01522 <span class="comment">LocalWords: PAGEAUDIT remsys SIGNUPS FILTAUD auditfiltering INVIS GDET OLF</span>
01523 <span class="comment">LocalWords: SOPAUD xlation generalised injothqueue IPC injoth LOGGEDOUT tt</span>
01524 <span class="comment">LocalWords: ifndef VER endif config DELIM userid passwd username USX prefs</span>
01525 <span class="comment">LocalWords: UPF UFL ORred sysaxs scnwidth scnheight datecre datelast API</span>
01526 <span class="comment">LocalWords: passexp em tempclss curclss freebies timetdy classdays totpaid</span>
01527 <span class="comment">LocalWords: totcreds timever credsever pagetime pagestate PGS filesdnl AUX</span>
01528 <span class="comment">LocalWords: bytesdnl filesupl bytesupl msgswritten lastclub struct uint TR</span>
01529 <span class="comment">LocalWords: int bbskey KEYLENGTH USR ANSION ANSIDEF ANSIASK TRDEF TRASK TR</span>
01530 <span class="comment">LocalWords: PF TRANS TRSHIFT param usr getpxlation setpxlation co LOGON cp</span>
01531 <span class="comment">LocalWords: logon AGESTATS CLSSTATS GENSTATS LINSTATS Linux MODSTATS DEL</span>
01532 <span class="comment">LocalWords: SYSTATS rm DIR REN mv invis MASTERKEY Sysops un Signup prude</span>
01533 <span class="comment">LocalWords: notaround nadays who've ardays nocreds credpost limpercall CLF</span>
01534 <span class="comment">LocalWords: limperday crdperday crdperweek crdpermonth classrec creds dev</span>
01535 <span class="comment">LocalWords: NOCHRGE capitalisation CRDXFER NUMLANGUAGES emupty baudrate en</span>
01536 <span class="comment">LocalWords: bps bbsgetty curpage prevpage ORring descr lastpage fraccharge</span>
01537 <span class="comment">LocalWords: credspermin onlinetime timeoutticks idlezap statptrs statcreds</span>
01538 <span class="comment">LocalWords: statd loggedin telechan telecountdown lastlib ONL PTY menuman</span>
01539 <span class="comment">LocalWords: min telecons OUSR MMEXITING MMCALLING MMCONCAT MMGCDGO CONCAT</span>
01540 <span class="comment">LocalWords: ISYSOP NOTIMEOUT FORCEIDLE ZAPBYPASS INHIBITGO INTELECON JMP</span>
01541 <span class="comment">LocalWords: TLCUNLIST RELOGGED relogging BLT INSYSCHAT telecon CRD</span>
01542 <span class="comment">LocalWords: getoxlation onlinrec setoxlation masse STF shm Megistos kbyte</span>
01543 <span class="comment">LocalWords: thisuseracc othruseracc thisuseronl othruseronl thisuseraux</span>
01544 <span class="comment">LocalWords: othruseraux thisshm othrshm shmuserrec acc onl aux cls uid pre</span>
01545 <span class="comment">LocalWords: capitalised uacc errno saveaccount loadaccount security's buf</span>
01546 <span class="comment">LocalWords: onlrec saveonlrec loadonlrec chargecredits postcredits canpay</span>
01547 <span class="comment">LocalWords: newclass setclass checkinvis insys insystem msg getl sprintf</span>
01548 <span class="comment">LocalWords: MSGMAX IDs uidxref</span>
01549 <span class="comment">*/</span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Thu Jul 15 16:04:02 2004 for Megistos API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
